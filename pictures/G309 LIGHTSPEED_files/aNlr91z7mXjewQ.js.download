/*  Rapid+JS v8.0.3 Released on 2024-04-03T16:30Z | (c) Yottaa, Inc. | https://www.yottaa.com/rapidjs-license */ var $yojscomp=$yojscomp||{};$yojscomp.scope={};$yojscomp.arrayIteratorImpl=function(d){var m=0;return function(){return m<d.length?{done:!1,value:d[m++]}:{done:!0}}};$yojscomp.arrayIterator=function(d){return{next:$yojscomp.arrayIteratorImpl(d)}};$yojscomp.makeIterator=function(d){var m='undefined'!=typeof Symbol&&Symbol.iterator&&d[Symbol.iterator];return m?m.call(d):$yojscomp.arrayIterator(d)}; $yojscomp.getGlobal=function(d){return'undefined'!=typeof window&&window===d?d:'undefined'!=typeof global&&null!=global?global:d};$yojscomp.global=$yojscomp.getGlobal(this);$yojscomp.ASSUME_ES5=!1;$yojscomp.ASSUME_NO_NATIVE_MAP=!1;$yojscomp.ASSUME_NO_NATIVE_SET=!1;$yojscomp.SIMPLE_FROUND_POLYFILL=!1;$yojscomp.defineProperty=$yojscomp.ASSUME_ES5||'function'==typeof Object.defineProperties?Object.defineProperty:function(d,m,n){d!=Array.prototype&&d!=Object.prototype&&(d[m]=n.value)}; $yojscomp.polyfill=function(d,m,n,r){if(m){n=$yojscomp.global;d=d.split('.');for(r=0;r<d.length-1;r++){var u=d[r];u in n||(n[u]={});n=n[u]}d=d[d.length-1];r=n[d];m=m(r);m!=r&&null!=m&&$yojscomp.defineProperty(n,d,{configurable:!0,writable:!0,value:m})}};$yojscomp.FORCE_POLYFILL_PROMISE=!1; $yojscomp.polyfill('Promise',function(d){function m(){this.batch_=null}function n(d){return d instanceof u?d:new u(function(m,n){m(d)})}if(d&&!$yojscomp.FORCE_POLYFILL_PROMISE)return d;m.prototype.asyncExecute=function(d){if(null==this.batch_){this.batch_=[];var m=this;this.asyncExecuteFunction(function(){m.executeBatch_()})}this.batch_.push(d)};var r=$yojscomp.global.setTimeout;m.prototype.asyncExecuteFunction=function(d){r(d,0)};m.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var d= this.batch_;this.batch_=[];for(var m=0;m<d.length;++m){var n=d[m];d[m]=null;try{n()}catch(la){this.asyncThrow_(la)}}}this.batch_=null};m.prototype.asyncThrow_=function(d){this.asyncExecuteFunction(function(){throw d;})};var u=function(d){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var m=this.createResolveAndReject_();try{d(m.resolve,m.reject)}catch(ka){m.reject(ka)}};u.prototype.createResolveAndReject_=function(){function d(d){return function(x){n||(n=!0,d.call(m,x))}}var m=this, n=!1;return{resolve:d(this.resolveTo_),reject:d(this.reject_)}};u.prototype.resolveTo_=function(d){if(d===this)this.reject_(new TypeError('A Promise cannot resolve to itself'));else if(d instanceof u)this.settleSameAsPromise_(d);else{a:switch(typeof d){case 'object':var m=null!=d;break a;case 'function':m=!0;break a;default:m=!1}m?this.resolveToNonPromiseObj_(d):this.fulfill_(d)}};u.prototype.resolveToNonPromiseObj_=function(d){var m=void 0;try{m=d.then}catch(ka){this.reject_(ka);return}'function'== typeof m?this.settleSameAsThenable_(m,d):this.fulfill_(d)};u.prototype.reject_=function(d){this.settle_(2,d)};u.prototype.fulfill_=function(d){this.settle_(1,d)};u.prototype.settle_=function(d,m){if(0!=this.state_)throw Error('Cannot settle('+d+', '+m+'): Promise already settled in state'+this.state_);this.state_=d;this.result_=m;this.executeOnSettledCallbacks_()};u.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var d=0;d<this.onSettledCallbacks_.length;++d)B.asyncExecute(this.onSettledCallbacks_[d]); this.onSettledCallbacks_=null}};var B=new m;u.prototype.settleSameAsPromise_=function(d){var m=this.createResolveAndReject_();d.callWhenSettled_(m.resolve,m.reject)};u.prototype.settleSameAsThenable_=function(d,m){var n=this.createResolveAndReject_();try{d.call(m,n.resolve,n.reject)}catch(la){n.reject(la)}};u.prototype.then=function(d,m){function n(d,m){return'function'==typeof d?function(m){try{r(d(m))}catch(sa){x(sa)}}:m}var r,x,B=new u(function(d,m){r=d;x=m});this.callWhenSettled_(n(d,r),n(m,x)); return B};u.prototype.catch=function(d){return this.then(void 0,d)};u.prototype.callWhenSettled_=function(d,m){function n(){switch(u.state_){case 1:d(u.result_);break;case 2:m(u.result_);break;default:throw Error('Unexpected state: '+u.state_);}}var u=this;null==this.onSettledCallbacks_?B.asyncExecute(n):this.onSettledCallbacks_.push(n)};u.resolve=n;u.reject=function(d){return new u(function(m,n){n(d)})};u.race=function(d){return new u(function(m,u){for(var r=$yojscomp.makeIterator(d),B=r.next();!B.done;B= r.next())n(B.value).callWhenSettled_(m,u)})};u.all=function(d){var m=$yojscomp.makeIterator(d),r=m.next();return r.done?n([]):new u(function(d,u){function B(m){return function(n){x[m]=n;ca--;0==ca&&d(x)}}var x=[],ca=0;do x.push(void 0),ca++,n(r.value).callWhenSettled_(B(x.length-1),u),r=m.next();while(!r.done)})};return u},'es6','es3');$yojscomp.SYMBOL_PREFIX='jscomp_symbol_';$yojscomp.initSymbol=function(){$yojscomp.initSymbol=function(){};$yojscomp.global.Symbol||($yojscomp.global.Symbol=$yojscomp.Symbol)}; $yojscomp.SymbolClass=function(d,m){this.$yojscomp$symbol$id_=d;$yojscomp.defineProperty(this,'description',{configurable:!0,writable:!0,value:m})};$yojscomp.SymbolClass.prototype.toString=function(){return this.$yojscomp$symbol$id_};$yojscomp.Symbol=function(){function d(n){if(this instanceof d)throw new TypeError('Symbol is not a constructor');return new $yojscomp.SymbolClass($yojscomp.SYMBOL_PREFIX+(n||'')+'_'+m++,n)}var m=0;return d}(); $yojscomp.initSymbolIterator=function(){$yojscomp.initSymbol();var d=$yojscomp.global.Symbol.iterator;d||(d=$yojscomp.global.Symbol.iterator=$yojscomp.global.Symbol('Symbol.iterator'));'function'!=typeof Array.prototype[d]&&$yojscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $yojscomp.iteratorPrototype($yojscomp.arrayIteratorImpl(this))}});$yojscomp.initSymbolIterator=function(){}}; $yojscomp.initSymbolAsyncIterator=function(){$yojscomp.initSymbol();var d=$yojscomp.global.Symbol.asyncIterator;d||(d=$yojscomp.global.Symbol.asyncIterator=$yojscomp.global.Symbol('Symbol.asyncIterator'));$yojscomp.initSymbolAsyncIterator=function(){}};$yojscomp.iteratorPrototype=function(d){$yojscomp.initSymbolIterator();d={next:d};d[$yojscomp.global.Symbol.iterator]=function(){return this};return d};$yojscomp.underscoreProtoCanBeSet=function(){var d={a:!0},m={};try{return m.__proto__=d,m.a}catch(n){}return!1}; $yojscomp.setPrototypeOf='function'==typeof Object.setPrototypeOf?Object.setPrototypeOf:$yojscomp.underscoreProtoCanBeSet()?function(d,m){d.__proto__=m;if(d.__proto__!==m)throw new TypeError(d+' is not extensible');return d}:null;$yojscomp.generator={};$yojscomp.generator.ensureIteratorResultIsObject_=function(d){if(!(d instanceof Object))throw new TypeError('Iterator result '+d+' is not an object');}; $yojscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$yojscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError('Generator is already running');this.isRunning_=!0};$yojscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1}; $yojscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$yojscomp.generator.Context.prototype.next_=function(d){this.yieldResult=d};$yojscomp.generator.Context.prototype.throw_=function(d){this.abruptCompletion_={exception:d,isException:!0};this.jumpToErrorHandler_()};$yojscomp.generator.Context.prototype.return=function(d){this.abruptCompletion_={return:d};this.nextAddress=this.finallyAddress_}; $yojscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(d){this.abruptCompletion_={jumpTo:d};this.nextAddress=this.finallyAddress_};$yojscomp.generator.Context.prototype.yield=function(d,m){this.nextAddress=m;return{value:d}};$yojscomp.generator.Context.prototype.yieldAll=function(d,m){d=$yojscomp.makeIterator(d);var n=d.next();$yojscomp.generator.ensureIteratorResultIsObject_(n);if(n.done)this.yieldResult=n.value,this.nextAddress=m;else return this.yieldAllIterator_=d,this.yield(n.value,m)}; $yojscomp.generator.Context.prototype.jumpTo=function(d){this.nextAddress=d};$yojscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$yojscomp.generator.Context.prototype.setCatchFinallyBlocks=function(d,m){this.catchAddress_=d;void 0!=m&&(this.finallyAddress_=m)};$yojscomp.generator.Context.prototype.setFinallyBlock=function(d){this.catchAddress_=0;this.finallyAddress_=d||0};$yojscomp.generator.Context.prototype.leaveTryBlock=function(d,m){this.nextAddress=d;this.catchAddress_=m||0}; $yojscomp.generator.Context.prototype.enterCatchBlock=function(d){this.catchAddress_=d||0;d=this.abruptCompletion_.exception;this.abruptCompletion_=null;return d};$yojscomp.generator.Context.prototype.enterFinallyBlock=function(d,m,n){n?this.finallyContexts_[n]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=d||0;this.finallyAddress_=m||0}; $yojscomp.generator.Context.prototype.leaveFinallyBlock=function(d,m){m=this.finallyContexts_.splice(m||0)[0];if(m=this.abruptCompletion_=this.abruptCompletion_||m){if(m.isException)return this.jumpToErrorHandler_();void 0!=m.jumpTo&&this.finallyAddress_<m.jumpTo?(this.nextAddress=m.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=d};$yojscomp.generator.Context.prototype.forIn=function(d){return new $yojscomp.generator.Context.PropertyIterator(d)}; $yojscomp.generator.Context.PropertyIterator=function(d){this.object_=d;this.properties_=[];for(var m in d)this.properties_.push(m);this.properties_.reverse()};$yojscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var d=this.properties_.pop();if(d in this.object_)return d}return null};$yojscomp.generator.Engine_=function(d){this.context_=new $yojscomp.generator.Context;this.program_=d}; $yojscomp.generator.Engine_.prototype.next_=function(d){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,d,this.context_.next_);this.context_.next_(d);return this.nextStep_()}; $yojscomp.generator.Engine_.prototype.return_=function(d){this.context_.start_();var m=this.context_.yieldAllIterator_;if(m)return this.yieldAllStep_('return'in m?m['return']:function(d){return{value:d,done:!0}},d,this.context_.return);this.context_.return(d);return this.nextStep_()}; $yojscomp.generator.Engine_.prototype.throw_=function(d){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_['throw'],d,this.context_.next_);this.context_.throw_(d);return this.nextStep_()}; $yojscomp.generator.Engine_.prototype.yieldAllStep_=function(d,m,n){try{var r=d.call(this.context_.yieldAllIterator_,m);$yojscomp.generator.ensureIteratorResultIsObject_(r);if(!r.done)return this.context_.stop_(),r;var u=r.value}catch(B){return this.context_.yieldAllIterator_=null,this.context_.throw_(B),this.nextStep_()}this.context_.yieldAllIterator_=null;n.call(this.context_,u);return this.nextStep_()}; $yojscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var d=this.program_(this.context_);if(d)return this.context_.stop_(),{value:d.value,done:!1}}catch(m){this.context_.yieldResult=void 0,this.context_.throw_(m)}this.context_.stop_();if(this.context_.abruptCompletion_){d=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(d.isException)throw d.exception;return{value:d.return,done:!0}}return{value:void 0,done:!0}}; $yojscomp.generator.Generator_=function(d){this.next=function(m){return d.next_(m)};this.throw=function(m){return d.throw_(m)};this.return=function(m){return d.return_(m)};$yojscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$yojscomp.generator.createGenerator=function(d,m){m=new $yojscomp.generator.Generator_(new $yojscomp.generator.Engine_(m));$yojscomp.setPrototypeOf&&$yojscomp.setPrototypeOf(m,d.prototype);return m}; $yojscomp.asyncExecutePromiseGenerator=function(d){function m(m){return d.next(m)}function n(m){return d.throw(m)}return new Promise(function(r,u){function B(d){d.done?r(d.value):Promise.resolve(d.value).then(m,n).then(B,u)}B(d.next())})};$yojscomp.asyncExecutePromiseGeneratorFunction=function(d){return $yojscomp.asyncExecutePromiseGenerator(d())};$yojscomp.asyncExecutePromiseGeneratorProgram=function(d){return $yojscomp.asyncExecutePromiseGenerator(new $yojscomp.generator.Generator_(new $yojscomp.generator.Engine_(d)))}; $yojscomp.checkStringArgs=function(d,m,n){if(null==d)throw new TypeError("The 'this' value for String.prototype."+n+' must not be null or undefined');if(m instanceof RegExp)throw new TypeError('First argument to String.prototype.'+n+' must not be a regular expression');return d+''}; $yojscomp.polyfill('String.prototype.startsWith',function(d){return d?d:function(d,n){var m=$yojscomp.checkStringArgs(this,d,'startsWith');d+='';var u=m.length,B=d.length;n=Math.max(0,Math.min(n|0,m.length));for(var x=0;x<B&&n<u;)if(m[n++]!=d[x++])return!1;return x>=B}},'es6','es3'); $yojscomp.iteratorFromArray=function(d,m){$yojscomp.initSymbolIterator();d instanceof String&&(d+='');var n=0,r={next:function(){if(n<d.length){var u=n++;return{value:m(u,d[u]),done:!1}}r.next=function(){return{done:!0,value:void 0}};return r.next()}};r[Symbol.iterator]=function(){return r};return r};$yojscomp.polyfill('Array.prototype.keys',function(d){return d?d:function(){return $yojscomp.iteratorFromArray(this,function(d){return d})}},'es6','es3'); $yojscomp.findInternal=function(d,m,n){d instanceof String&&(d=String(d));for(var r=d.length,u=0;u<r;u++){var B=d[u];if(m.call(n,B,u,d))return{i:u,v:B}}return{i:-1,v:void 0}};$yojscomp.polyfill('Array.prototype.find',function(d){return d?d:function(d,n){return $yojscomp.findInternal(this,d,n).v}},'es6','es3');$yojscomp.polyfill('Number.MAX_SAFE_INTEGER',function(){return 9007199254740991},'es6','es3'); $yojscomp.polyfill('Object.is',function(d){return d?d:function(d,n){return d===n?0!==d||1/d===1/n:d!==d&&n!==n}},'es6','es3');$yojscomp.polyfill('Array.prototype.includes',function(d){return d?d:function(d,n){var m=this;m instanceof String&&(m=String(m));var u=m.length;n=n||0;for(0>n&&(n=Math.max(n+u,0));n<u;n++){var B=m[n];if(B===d||Object.is(B,d))return!0}return!1}},'es7','es3'); $yojscomp.polyfill('String.prototype.includes',function(d){return d?d:function(d,n){return-1!==$yojscomp.checkStringArgs(this,d,'includes').indexOf(d,n||0)}},'es6','es3'); $yojscomp.polyfill('Array.from',function(d){return d?d:function(d,n,r){n=null!=n?n:function(d){return d};var m=[],B='undefined'!=typeof Symbol&&Symbol.iterator&&d[Symbol.iterator];if('function'==typeof B){d=B.call(d);for(var x=0;!(B=d.next()).done;)m.push(n.call(r,B.value,x++))}else for(B=d.length,x=0;x<B;x++)m.push(n.call(r,d[x],x));return m}},'es6','es3'); (function(d,m){return m(d)})('undefined'!==typeof window?window:this,function(d,m){function n(a){return f.rum.key+'-'+a}function r(){for(var a=f.rum.key?f.rum.key:h.getCookie('yo-rum-key'),b=0,c=0,e=0,k=0;k<f.delayed.length;k++){var t=f.delayed[k];'none'!=t.orgDelayType&&(ta='active',t.newNode&&t.newNode.nodeName?'img'==t.newNode.nodeName.toLowerCase()?c++:'script'==t.newNode.nodeName.toLowerCase()&&'attributesrc'!=t.type&&b++:t.me&&t.me.nodeName&&'script'==t.me.nodeName.toLowerCase()&&e++)}k=null!= a?a:d.location.hostname;a=Fa;t=z.releaseDate;var I=document.location.href,l=navigator.userAgent,m=document.title,p=Ga,u=h.hasResourceTiming()&&h.def(d.performance.timing.toJSON),q=h.hasResourceTiming(),r=h.hasResourceTiming(),A=h.metaDataValue('X-Yottaa-Optimizations'),B=(new Date).getTime();if(0==h.hasResourceTiming()||0==h.def(d.performance.getEntriesByType))var D={};else{D=d.performance.getEntriesByType('resource');for(var y=D.length,w={},C=0;C<y;C++){var x=D[C],E=w[x.initiatorType];E?(E.count++, E.size+=x.decodedBodySize):w[x.initiatorType]={count:1,size:x.decodedBodySize}}D=w}b={siteKey:k,uuid:a,formatVersion:'3',releaseDate:t,requestType:'navigation',fullPageURL:I,pageCategory:'',userAgent:l,pageTitle:m,lastInteraction:p,isNavigationSupported:u,isResourceTimingSupported:q,isPaintTimingSupported:r,yOptimizations:A,eventTimestamp:B,entryMap:D,domElementCount:document.getElementsByTagName('*').length,pagePrefetched:_isPagePrefetched(),maxScrollDepth:z.maxScrollDepth,sequencing:{numScriptsSequenced:b, numImagesSequenced:c,numBlocksSequenced:e,numDelayedObjects:f.delayed.length},commonDimensions:{}};f.rum.pageCategory&&(b.pageCategory=f.rum.pageCategory);z.geo&&(b.geo=z.geo);c=navigator.connection||navigator.mozConnection||navigator.webkitConnection;b.connection={};1==g.def(c)&&(b.connection.effectiveType=c.effectiveType,b.connection.rtt=c.rtt);for(var v in da)b.commonDimensions[v]=da[v];b.commonDimensions.optState||(b.commonDimensions.optState=ta);try{if(d.localStorage&&localStorage.getItem){var F= localStorage.getItem(n('rapid-js-visitor-3'));if(null!=F){F=JSON.parse(F);var G=(new Date).getTime()>F.visitorTimestamp+f.sessionTimeout;b.visitor={visitorTimestamp:(new Date).getTime(),numVisitorPageViews:F.numVisitorPageViews+1,numSessionPageViews:G?1:F.numSessionPageViews+1,visitorId:F.visitorId?F.visitorId:h.uuid(),numSessions:G?F.numSessions+1:F.numSessions,sessionId:G?h.uuid():F.sessionId,bandwidth:''}}else b.visitor={visitorTimestamp:(new Date).getTime(),numVisitorPageViews:1,numSessionPageViews:1, numSessions:1,visitorId:h.uuid(),sessionId:h.uuid(),bandwidth:''};localStorage.setItem(n('rapid-js-visitor-3'),JSON.stringify(b.visitor));var H=localStorage.getItem(n('rapid-js-qoe-5'));null!=H&&(b.qoe=JSON.parse(H))}}catch(Rb){h.log('localStorage was not available',Rb)}1==b.isNavigationSupported&&!0!==f.rum.spa&&(b.navigationTiming=d.performance.timing.toJSON(),b.experienceMetrics=R,kb&&(b.webVitalsInfo=T));b.isPaintTimingSupported=!1;b.paintTiming={};b.userTiming={};b.measureTiming={};if(d.performance&& d.performance.getEntriesByType){v=d.performance.getEntriesByType('paint');if(null!=v&&0<v.length)for(b.isPaintTimingSupported=!0,k=0;k<v.length;k++)b.paintTiming[v[k].name]=v[k].startTime;v=d.performance.getEntriesByType('mark');if(null!=v&&0<v.length)for(k=0;k<v.length;k++)b.userTiming[v[k].name]=v[k].startTime;v=d.performance.getEntriesByType('measure');if(null!=v&&0<v.length)for(k=0;k<v.length;k++)b.measureTiming[v[k].name]=v[k].duration}z.rum=b}function u(a){for(var b=0;b<f.delayed.length;b++){var c= f.delayed[b];if(c.src==a||c.srcAttr==a)return c}return null}function B(a,b,c,e){a={lastByteTime:c.duration,implementationType:'dom',type:a,zone:b,resourceName:c.name,resourceSizeBytes:c.decodedBodySize};c=u(c.name);null!=c&&(a.delayedType=c.orgDelayType,a.delayedValue=c.delayValue);g.def(e)&&(a.stack=e);return a}function x(a){if(0!=h.hasResourceTiming()){try{if(!d.localStorage||!d.localStorage.getItem)return}catch(jb){h.log('localStorage was not available');return}var b=z.rum,c=[],e=d.performance.timing, k=0,t=0,I=e.domInteractive-e.navigationStart,l=e.domContentLoadedEventEnd-e.navigationStart,m=e.domComplete-e.navigationStart,p=e.loadEventEnd-e.navigationStart,q=d.performance.getEntries();e=q.length;a:{if(document.querySelector){var r=document.querySelector('img[class*=hero]');if(null!=r){r=r.currentSrc||r.src;break a}}for(var v=document.getElementsByTagName('img'),y=null,w=0,D=document.documentElement.scrollTop||document.body.scrollTop,x=0;x<v.length;x++){r=v[x];var C=r.getBoundingClientRect(); if(C.top-D<d.innerHeight)C.width*C.height>w&&(y=r.currentSrc||r.src,w=C.width*C.height);else break}r=y}for(v=0;v<e;v++)D=q[v],y=D.startTime,x=0,'resource'==D.entryType&&(y<=I?(t+=f.rum.advanced.domInteractiveCoef,x=1):y<=l?(t+=f.rum.advanced.domContentLoadedEventCoef,x=2):y<=m?(t+=f.rum.advanced.domCompleteCoef,x=3):y<=p||a&&v<a?(t+=f.rum.advanced.loadEventCoef,x=4):0<D.duration&&(k+=D.duration),w=Ha[D.name],0!=x&&D.duration>f.rum.advanced.blockingTime?U.push(B(4,x,D,w)):0==x&&D.duration>f.rum.advanced.performanceTime&& U.push(B(0,x,D,w)),D.decodedBodySize>f.rum.advanced.violationSize&&U.push(B(1,x,D,w)),1==D.name.toLowerCase().startsWith('https:')&&1==D.name.toLowerCase().startsWith('http:')&&U.push(B(3,x,D,w)),r==D.name&&(A.setExperienceMetric('hero_image_display',D.startTime+D.duration),A.setExperienceMetric('hero_image',r)),D.toJSON&&(D=D.toJSON(),D.implementationType='dom',g.def(w)&&(D.stack=w),w=u(D.name),null!=w&&(D.delayedType=w.orgDelayType,D.delayedValue=w.delayValue),D.onLoadStartTime=y-p,c.push(D))); 1<e&&g._calculateTti(q,e,p);d.performance.getEntriesByName&&!0!==f.rum.spaTransition&&(a=document.getElementsByTagName('script'),Ia(a,'src'),a=document.getElementsByTagName('link'),Ia(a,'href'),a=document.getElementsByTagName('img'),Ia(a,'currentSrc'));a=localStorage.getItem(n('rapid-js-qoe-5'));null==a?a={sessionTimeSaved:k,journeyTime:k}:(a=JSON.parse(a),a={sessionTimeSaved:(new Date).getTime()>a.collectionTimestamp+f.sessionTimeout?k:a.sessionTimeSaved+k,journeyTime:a.journeyTime+k});a.entries= e;a.timeSaved=k;a.score=t;a.pageMeasured=b?b.fullPageURL:d.location.href;a.pageMeasuredCategory=b?b.pageCategory:'';a.violations=U;!0===f.rum.requests&&(a.resourceTiming=c);a.jsErrors=Ja;a.domElementCount=document.getElementsByTagName('*').length;a.maxScrollDepth=z.maxScrollDepth;a.pageMeasuredPrefetched=b.pagePrefetched;a.pageMeasuredUuid=Fa;a.lastInteraction=Ga;a.serviceWorkers=z.serviceWorkers;a.collectionTimestamp=(new Date).getTime();a.commonDimensions={};for(var E in da)a.commonDimensions[E]= da[E];a.experienceMetrics=R;kb&&(a.webVitalsInfo=T);a.commonDimensions.optState||(a.commonDimensions.optState=ta);try{!0!==f.sendRumOnUnload?localStorage.setItem(n('rapid-js-qoe-5'),JSON.stringify(a)):b.qoe=a}catch(jb){g.log('LocalStorage failed to save',jb)}}}function Mb(a){if(d.performance&&d.performance.getEntriesByType)for(var b=d.performance.getEntriesByType('resource'),c=0;c<b.length;c++)if(b[c].name===a)return c;return-1}function ka(a,b,c,e){if(f.sequenceWrites&&'script'==a.nodeName.toLowerCase()){for(var k in L)0< L[k].length&&e.writeSelector!=L[k][0].getWriteSelector()&&g.def(e.writeSelector)&&(a.yo_writeSelector=e.writeSelector);g.def(e.writeSelector)&&g.def(e.writeSelector.nodeName)&&(e.writeSelector.id?e.writeSelector='#'+e.writeSelector.id:(b='yo_write_'+Math.floor(1E9*Math.random()),e.writeSelector.setAttribute('id',b),e.writeSelector='#'+b));k=g.select(e.writeSelector);if(null!=k){e=new J(k,{src:a},e);e.initialize();a.write_context=e;a.original_onload=a.onload;a.original_onreadystatechange=a.onreadystatechange; a.onload=a.onreadystatechange=null;var d=!1;a.onerror=a.onload=function(){d||this.readyState&&'loaded'!==this.readyState&&'complete'!==this.readyState||(g.log('loading ',this,this.write_context.getId()),d=!0,this.original_onload?this.original_onload.call(arguments):l.publish({topic:'sequence/afterloaded/'+a.src,message:a}),this.write_context.finalizeWriteOverride(),this.original_onload=this.write_context=this.onload=this.onreadystatechange=null)};a.onreadystatechange=function(){d||this.readyState&& 'loaded'!==this.readyState&&'complete'!==this.readyState||(g.log('loading ',this,this.write_context.getId()),d=!0,this.original_onload||l.publish({topic:'sequence/afterloaded/'+a.src,message:a}),this.write_context.finalizeWriteOverride(),this.original_onload=this.write_context=this.onload=this.onreadystatechange=null);this.original_onreadystatechange&&this.original_onreadystatechange.call(arguments)}}}return!0}function la(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);g.writeHTML(a,b)}function Nb(){if(0!= f.afterShockLoaded){for(var a=0;a<f.delayed.length;a++)if('none'!=f.delayed[a].delayType)return;null!=f.intervalID&&(clearInterval(f.intervalID),f.intervalID=null,g.log('Turning off response timer all objects are loaded.'))}}function ib(a){f.sequenceWrites&&g.undef(a.yo_write)&&(a.yo_write=a.write,Ka=Ob,a.writeln=a.write=function(){var b=Array.prototype.slice.call(arguments).join('');Ka(b,a)})}function Ob(a,b){for(var c=!1,e=0;e<f.write.length;e++){var k=f.write[e];if(a.match(k.start)||1==k.state){e= {document:b};for(var d in k)e[d]=k[d];c=!0;k.string&&0==La?k.string+=a:(k.state=1,k.string=a);if(g.undef(k.end)||a.match(k.end)){if(g.undef(e.delayType)||'none'==e.delayType){k.config=e;if(g.def(e.onBefore))e.onBefore(k,b);g.undef(e.selector)||null==e.selector?e.selector=b:e.selector=g.select(e.selector);e.selector.yo_write?(La=!0,-1!=k.string.indexOf('m_js_controller.js')&&(La=!0),e.selector.yo_write(k.string)):g.writeHTML(e.selector,k.string,e.how);if(g.def(e.onAfter))e.onAfter(k,b)}else g.undef(e.selector)? (e.selector='yo_write_'+Math.floor(1E9*Math.random()),g.undef(e.how)&&(e.how='append'),g.undef(e.delayValue)&&(e.delayValue=e.selector),document.yo_write('<di'+'v id='+e.selector+' style=width:0px;height:0px></di'+'v>'),e.selector=g.select(e.selector).parentNode):e.selector=g.select(e.selector),d=Yo.sequence.resource(''),g.def(e.onBefore)&&d.beforeLoading(e.onBefore),g.def(e.onLoad)&&d.afterLoaded(e.onLoad),d.type='inner',d.how=k.how,d.newNode=a,d.before=e.selector,d.me=e.selector,f.delayed.push(d),domCompleteTriggered&& d.execute();k.state=2;k.string=''}break}}0==c&&b.yo_write(a);g.log('write hander = '+a)}function ca(a){return function(b,c){var e='on'+b.toLowerCase(),k=M[e];g.log('loadEventSequencing: _addListener via fireLoadEvents',b,c,e);if(k)0==ea?fa(function(){try{g.log('loadEventSequencing: triggger event immediately not async',k),c.call(k.object||d,k.event)}catch(I){g.log('loadEventSequencing: Overridden event listener threw an exception',I)}},0):(k.listeners.push(c),k.stacks.push(Error().stack));else try{var t= Array.prototype.slice.call(arguments,0);return a?this.yo_addEventListener.apply(this,t):this.yo_attachEvent.apply(this,t)}catch(I){g.log('loadEventSequencing: Overridden event listener threw an exception',I)}}}function Pb(a,b,c){function e(a){g.log('Loading '+c.before.src+' via event handler '+c.delayValue);c.afterShock();var k=null;g.def(a.currentTarget)?k=a.currentTarget:g.def(a.srcElement)&&(k=a.srcElement);g.removeEvent(k,b[0],e)}g.log('Adding event ',b[0],b[1]);g.addEvent(a,b[0],e)}function sa(a, b){return a.top>b.top-a.height&&a.bottom<b.bottom+f.offset+2*a.height&&a.left>b.left-a.width&&a.right<b.right+f.offset+2*a.width}function Sb(a,b){return Ma(this,a,b,'insertBefore')}function Tb(a){return Ma(this,a,a,'appendChild')}function Ub(){for(var a=0;a<arguments.length;a++){var b=arguments[a];1==h.def(b)&&null!=b&&Ma(this,b,b,'append')}}function Ma(a,b,c,e){if(1!=h.undef(b)&&null!=b){l.publish({topic:'sequence/captured',message:{parentNode:a,newNode:b,before:c,captureType:e}});if(0==ua(b,a,function(a, d){a=a.clone();a.type=e;a.newNode=b;a.src=b?b.src:'';a.before=c;a.me=d;f.delayed.push(a)}))return X.safeWriteInsert(b,c,a,oa(b),e);a=f.delayed[f.delayed.length-1];if(domCompleteTriggered||'none'==a.delayType)return a.execute()}}function ua(a,b,c){var e=null,k=null,d=!1;a&&a.nodeName&&(e=a.nodeName.toLowerCase());if('script'==e||'iframe'==e){1==f.log&&g.log('Found',e,'(',a,') beginning analysis for optimization. Callstack',Error().stack);k=oa(a);c(k,b);d=!0;var I=!1;a.onreadystatechange&&(a.onreadystatechangeOriginal= a.onreadystatechange,a.onreadystatechange=null);a.onreadystatechange=function(){I||this.readyState&&'loaded'!==this.readyState&&'complete'!==this.readyState||(l.publish({persistent:!0,topic:'sequence/afterloaded/'+k.key,message:k}),I=!0);if(this.onreadystatechangeOriginal){var a=this.onreadystatechangeOriginal;this.onreadystatechangeOriginal=null;a.apply(this,arguments)}};a.onload&&(a.onloadOriginal=a.onload,a.onload=null);a.onload=function(){0==I&&(l.publish({persistent:!0,topic:'sequence/afterloaded/'+ k.key,message:k}),I=!0);if(this.onloadOriginal){var a=this.onloadOriginal;this.onloadOriginal=null;a.apply(this,arguments)}}}else if(k=oa(b),null==k||'none'!=k.delayType)c(k,b),k.before=b,d=!0;g.log(a.nodeName+' '+a.src+' is'+(d?' ':' NOT ')+'sequenced.');0==d&&l.publish({topic:'sequence/beforeloading/'+k.key,message:k});return d}function oa(a){var b=a.src;1==f.excludeParameters&&b&&b.split&&(b=b.split('?')[0]);1==g.def(a.yo_src)&&(b=a.yo_src);if(null==b||0==b.length){var c=new (_delayed());c.delayType= 'none';return c}for(c=0;c<f.resources.length;c++){var e=f.resources[c];if(1==e.match&&1==g.matchUrl(e.url,b)||'function'===typeof e.url&&1==e.url(a,e))if(a.nodeName===e.nodeName||'resource'===e.nodeName&&('SCRIPT'===a.nodeName||'IFRAME'===a.nodeName))return g.log('Found configuration for ',b,' delayType ',e.delayType,e.delayValue),'empty'==e.delayType&&(a.src=null==e.delaySrc?'data:text/javascript;plain,//':e.delaySrc,e.delayType='none'),e}g.log('Did NOT find configuration for '+b+' checking local configuration. '); c=new (_delayed());c.key=c.src=b;if(null!=a.delayType)'empty'==a.delayType&&(a.src=null==a.delaySrc?'data:text/javascript;plain,//':a.delaySrc,a.delayType='none'),c[a.delayType](a.delayValue);else c[f.defaultType](f.defaultDelay);c.before=a;return c}function Na(){for(var a=0;a<f.resources.length;a++){var b=f.resources[a];if(!b.isConfig){var c=new (_delayed());c.key=c.url=b.url;c.match=!0;c.local=!0;c[b.delayType](b.delayValue);f.resources[a]=c}}}function Oa(){var a=g.browser();return!!a&&'chrome'=== a.name}function lb(a,b,c){pa.postMessage({url:b[c],extensionId:a,extensionAssetUrls:b,assetIndex:c})}function Pa(a,b){va++;p.setExtensionState(a,b);va===p.supportedExtensions.length&&(p.detectionComplete=!0,l.publish({topic:'hijacking/finished',message:p.extensionList()}))}function Vb(a){var b=new XMLHttpRequest;b.open('GET',a.data.url);b.onreadystatechange=function(){4===this.readyState&&postMessage({assetFound:200===this.status,extId:a.data.extensionId,extAssetUrls:a.data.extensionAssetUrls,assetIdx:a.data.assetIndex})}; b.send(null)}function Wb(){var a=new Blob(['self.onmessage = ',Vb.toString()],{type:'application/javascript'});a=new Worker(URL.createObjectURL(a));a.onerror=function(a){q.utils.log('Journey Hijacking Web Worker Error: '+a.message)};a.onmessage=function(a){var b=a.data.assetFound,e=a.data.extId,k=a.data.extAssetUrls;a=a.data.assetIdx;b?Pa(e,p.states.INSTALLED):a===k.length-1?Pa(e,b?p.states.INSTALLED:p.states.NOT_INSTALLED):lb(e,k,a+1)};return a}function wa(a,b,c,e){F.checkedComponents.push({id:a.id, state:b,extensionId:c.id});p.setExtensionState(c.id,p.states.INSTALLED);l.publish({topic:'hijacking/component-found',message:{element:e,component:a,extension:c}})}function Qa(a,b,c){Xb.call(a);wa(b,xa.BLOCKED,c,a);q.utils.log('Journey Hijacking removed',a,'which matches component',b,'of extension',c);l.publish({topic:'hijacking/blocked',message:{element:a,component:b,extension:c}})}function mb(a,b){Ra.push(l.subscribe({topic:'hijacking/found/'+a.id,callback:b}))}function Yb(a,b,c){c.reportOnly||'active'!== p.optState?b.requireDetection&&p.assetDetection.enabled?mb(c,function(){wa(b,xa.DETECTED,c,a)}):wa(b,xa.DETECTED,c,a):!0!==b.requireDetection?Qa(a,b,c):F.aggressiveBlocking?Qa(a,b,c):p.assetDetection.enabled?mb(c,function(){Qa(a,b,c)}):wa(b,xa.DETECTED,c,a)}function Zb(){var a={childList:!0,subtree:!1};N=new MutationObserver(function(a){for(var b=0;b<a.length;b++)for(var e=0;e<a[b].addedNodes.length;e++)a:for(var k=a[b].addedNodes[e],d=p.supportedExtensions,f=0;f<d.length;f++){var g=d[f];if(g.components)for(var h= 0;h<g.components.length;h++){b:{var l=k,m=g.components[h],n=g;try{if(m.test(l)){Yb(l,m,n);var q=!0;break b}}catch(tc){q=!1;break b}q=void 0}if(q)break a}}});N.observe(d.document.documentElement,a);d.document.body?N.observe(d.document.body,a):d.document.addEventListener('DOMContentLoaded',function(){N.observe(d.document.body,a)})}function nb(a){var b=q.stats().rum;b={siteKey:b.siteKey,sessionId:b.visitor.sessionId,pageMeasured:b.fullPageURL,pageCategory:b.pageCategory,visitorId:b.visitor.visitorId, requestId:b.uuid,optState:p.optState,extensions:p.extensionList(),components:F.checkedComponents};if(a){a:{a=Sa();var c=d.localStorage.getItem(a);if(c){try{var e=JSON.parse(c)}catch(k){d.localStorage.removeItem(a);e=null;break a}d.localStorage.removeItem(a)}else e=null}e&&(b.previousPage=e)}return b}function Ta(){q.utils.log('Journey Hijacking will save new components to localstorage');ya=l.subscribe({topic:'hijacking/component-found',callback:$b})}function Sa(){var a=q.stats().rum;return'hijacking-'+ (a&&a.visitor&&a.visitor.sessionId)}function $b(){var a=nb(!1),b=Sa(),c=JSON.stringify(a);d.localStorage.setItem(b,c);l.publish({topic:'hijacking/payload-saved',message:{storageKey:b,payload:a}})}function ob(){null!==za&&(l.unsubscribe(za),za=null)}function pb(){ob();var a=nb(!0);if(!a.previousPage&&!1===p.hasDetectedExtensions)return q.utils.log('Journey Hijacking beacon cancelled, nothing to send'),Ta(),!1;var b=l.publish({topic:'hijacking/beforeSend',async:!1,message:a});if(0<b.length&&!1===b[0])return q.utils.log('Journey Hijacking beacon cancelled in beforeSend'), Ta(),!1;l.publish({topic:'hijacking/send',message:a});g.sendData(a,p.config.reportUri);q.utils.log('Journey Hijacking beacon sent');Ta();return!0}function qb(){var a=g.browser();return a?'chrome'===a.name?!!(d.chrome&&d.chrome.runtime&&d.chrome.runtime.sendMessage)||!1===g.isAndroid()&&!1===g.isIos():'safari'===a.name?!0:!1:!1}if(d.Yo)return d.Yo;var q={},fa=d.setTimeout,rb=d.setInterval,y=console.log,O=console.table,f={defaultDelay:5E3,defaultType:'none',log:!1,throttle:20,sequenceXHR:!1,sequenceWrites:!1, sendTimingData:!1,timingDataURL:'',offset:100,scan:['script','img','source','picture'],resources:[],abTesting:[],write:[],intervalID:null,lazyCheckSize:!0,pre:'data-yo-',srcAttrs:['data-yo-src','data-yo-srcset'],afterShockLoaded:!1,optimizeIE:!0,logPrefix:'Yo.utils.log: ',delayed:[],maxMessageSize:2048E3,scriptAttrs:['async','nomodule','defer','crossorigin'],ttiWatcherInterval:3E3,ttiLagTime:2E3,scrapeLevel:'top',sendRumOnUnload:!1,excludeParameters:!1,rumDelay:100,sessionTimeout:18E5,newConfigFetch:!1}, h={log:function(){if(f.log&&1==h.def(y)){var a=Array.prototype.slice.call(arguments);a.unshift(f.logPrefix);y.apply(console,a)}},def:function(a){return'undefined'!=typeof a},undef:function(a){return!h.def(a)},isFunction:function(a){return!!(a&&a.constructor&&a.call&&a.apply)},decodeSafeString:function(a){return decodeURIComponent(a)},getCookie:function(a){for(var b=document.cookie.split(';'),c=0;c<b.length;c++){var e=b[c],k=e.indexOf(a+'=');if(0==k||1==k&&' '==e.charAt(0)){for(;' '==e.charAt(0);)e= e.substring(1,e.length);return e.substring(a.length+1,e.length)}}return null},setCookie:function(a,b,c){var e='';c&&(e=new Date,e=new Date(e.getTime()+1E3*c),e='; expires='+e.toGMTString());document.cookie=a+'='+b+e+'; path=/';return!0},addEvent:function(a,b,c){a.attachEvent?a.attachEvent('on'+b,c):a.addEventListener&&a.addEventListener(b,c,!1)},removeEvent:function(a,b,c){a.detachEvent?a.detachEvent('on'+b,c):a.removeEventListener(b,c,!1)},metaDataValue:function(a,b){var c=document.getElementsByName(a); return null!=c&&1==c.length?1==arguments.length?c[0].getAttribute('content'):c[0].setAttribute('content',b):null},matchUrl:function(a,b){if(null==b||null==a||''==a)return!1;h.log('Match Criteria',a,'and resource Url',b);return'string'===typeof a&&-1!=b.indexOf(a)||'object'===typeof a&&null!=b.match(a)},sendData:function(a,b){if(1==h.isIE('8'))return h.log('IE 8 detected we will not send data back for this browser currently.'),!1;var c=JSON.stringify(a);if(navigator.sendBeacon&&c.length<f.maxMessageSize&& 3E4>c.length)q.pubsub.publish({topic:'sequence/beforeloading/'+b,message:a}),navigator.sendBeacon(b,c),q.pubsub.publish({topic:'sequence/afterloaded/'+b,message:a});else if(c.length<f.maxMessageSize)if(1==h.def(d.fetch))fetch(b,{method:'POST',headers:{'Content-Type':'application/json'},body:c}).then(function(a){h.log('Successfully sent beacon data via fetch',a.status)})['catch'](function(a){h.log('Error from sending beacon data via fetch',a)});else a=new XMLHttpRequest,a.onreadystatechange=function(){4== this.readyState&&h.log('Rum data response received',this.status)},a.open('POST',b,!0),a.setRequestHeader('Content-type','application/json'),a.send(c);else h.log('Message is larger than max message length for qoe calles message size: ',c.length,f.maxMessageSize)},uuid:function(){var a='0123456789abcdef'.split(''),b=[],c=Math.random;b[8]=b[13]=b[18]=b[23]='-';b[14]='4';for(var e=0;36>e;e++)if(!b[e]){var k=0|16*c();b[e]=a[19==e?k&3|8:k&15]}return b.join('')}},l={},V={},sb=1,Ua={},Aa=[],ac=function(a, b){fa(function(){a.callback.call(a.context,b.message,b.topic)},0)};l.reset=function(){V={};sb=1;Ua={};Aa=[]};l.subscribe=function(a){a.id=++sb;h.undef(a.priority)&&(a.priority=0);h.undef(a.priority)&&(a.priority=0);'string'===typeof a.topic&&-1!=a.topic.indexOf('*')&&(a.topic=new RegExp(a.topic.replace(/\*/g,'.*')));if('string'===typeof a.topic){a.topic=a.topic.toLowerCase();1==h.undef(V[a.topic])&&(V[a.topic]=[]);V[a.topic].push(a);V[a.topic].sort(function(a,b){return b.priority-a.priority});var b= Ua[a.topic];h.def(b)&&a.callback.call(b.context,b.message,b.topic)}else Aa.push(a);h.log('_pubsub.subscribe',a.topic,a.id);return a.id};l.publish=function(a){var b=a.topic;a.topic=a.topic.toLowerCase();for(var c=V[a.topic],e=c=1==h.undef(c)?[]:c.slice(0),k=0;k<Aa.length;k++){var d=Aa[k];null!=a.topic.match(d.topic)&&e.push(d)}a.persistent&&(Ua[a.topic]=a);if(0<c.length){e=[];for(k=0;k<c.length;k++){d=c[k];var f=!0;1==a.async?ac(d,a):(f=d.callback.call(d.context,a.message,b),1==h.def(f)&&e.push(f)); h.log('_pubsub.publish',d.topic,d.id);if(0==f&&!0===a.cancellable)break}return e}h.log('_pubsub.publish',a.topic,'no callbacks');return 0};l.unsubscribe=function(a){for(var b in V)for(var c=V[b],e=0;e<c.length;e++)if(c[e].id==a)return c.splice(e,1),h.log('_pubsub.unsubscribe','found',a),!0;h.log('_pubsub.unsubscribe','not found');return!1};var z={releaseDate:'v8.0.3-2024-04-03T16:30Z',errors:{has:!1},config:f,maxScrollDepth:0,serviceWorkers:{supported:!1,registrations:[],cacheStats:[]}},qa=function(){return z}; l.subscribe({topic:'core/configure',callback:function(a){qa.config=f}});l.subscribe({topic:'core/start',callback:function(){qa.config=f;if('serviceWorker'in navigator)try{navigator.serviceWorker.getRegistrations().then(function(a){for(var b=0;b<a.length;b++){var c=a[b].active;z.serviceWorkers.registrations.push({scope:a[b].scope,scriptURL:1==h.def(c)?c.scriptURL:'',state:1==h.def(c)?c.state:''})}}),z.serviceWorkers.supported=!0}catch(a){z.serviceWorkers.supported=!1,h.log('Error adding service worker stats to qoe call, most likely a security issue', a)}}});h.addEvent(d,'scroll',function(){var a=d.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;a>z.maxScrollDepth&&(z.maxScrollDepth=a)});h.addEvent(d,'error',function(a){var b=a.message,c=a.lineno,e=a.filename;3==arguments.length&&(b=arguments[0],e=arguments[1],c=arguments[2]);h.log('errorCapture',b,c,e);var k='';try{k=a&&a.error&&a.error.stack?a.error.stack:Error().stack}catch(t){}l.publish({topic:'core/js/error',persistent:!0,message:{message:b,implementationType:'dom', resourceName:e,lineNumber:c,stack:k,collectionTimestamp:(new Date).getTime()}});z.errors={has:!0}});var tb=0,ub=!1;h.hasWebVitals=function(){return'undefined'!==typeof d.LayoutShift};var Va=function(){(new PerformanceObserver(function(a){a=a.getEntries();for(var b=0;b<a.length;b++){var c=a[b];l.publish({topic:'web-vitals/cumulative-layout-shift',persistent:!0,message:{score:c.value,entry:c}})}})).observe({type:'layout-shift',buffered:!0});(new PerformanceObserver(function(a){a=a.getEntries();for(var b= 0;b<a.length;b++){var c=a[b];l.publish({topic:'web-vitals/first-input',persistent:!0,message:{delay:c.processingEnd-c.startTime,name:c.name,startTime:c.startTime,entry:c}})}})).observe({type:'first-input'});(new PerformanceObserver(function(a){if(1!=ub){a=a.getEntries();for(var b=0;b<a.length;b++){var c=a[b];l.publish({topic:'web-vitals/largest-contentful-paint',persistent:!0,message:{time:c.startTime,entry:c}})}}})).observe({type:'largest-contentful-paint',buffered:!0});(new PerformanceObserver(function(a){a= a.getEntries();for(var b=0;b<a.length;b++){var c=a[b];g.def(c.interactionId)&&tb<c.duration&&(tb=c.duration,l.publish({topic:'web-vitals/interaction-to-next-paint',persistent:!0,message:{time:c.duration,entry:c}}))}})).observe({type:'event',durationThreshold:16,buffered:!0})};try{1==h.hasWebVitals()&&Va()}catch(a){h.log('WebVital initialize error',a.message)}h.hasResourceTiming=function(){return h.def(d.performance)&&h.def(d.performance.getEntries)};h.calculateTti=function(){var a=d.performance.timing; if(0==h.hasResourceTiming()||h.undef(a.loadEventEnd))return-1;var b=d.performance.getEntries();return h._calculateTti(b,b.length,a.loadEventEnd-a.navigationStart)};h._calculateTti=function(a,b,c){for(var e=[],k=f.ttiLagTime,d=-1,g=a[0],h=g.startTime,l=h+g.duration,m=[h,l+k],n=0;n<b;n++)if(g=a[n],h=g.startTime,l=h+g.duration,'resource'==g.entryType)if(1==(h+l>=m[0]&&h<=m[1])){if(e.push(g),2<e.length)if(m=[h,l+k],vb(e,m),3<=e.length)d=m[1]-k;else break}else if(h>m[1]-k){if(l>c)break;m=[h,l+k];vb(e, m)}if(d<c){if(0==f.afterShockLoaded)return-1;d=c}A.setExperienceMetric('time_to_interactive',d);return d};var vb=function(a,b){for(var c=0;c<a.length;c++){var e=a[c],k=e.startTime;0==(k+(k+e.duration)>=b[0]&&k<=b[1])&&(a.splice(c,1),c--)}};l.publish({topic:'sequencing/user/first',callback:function(){ub=!0}});var v={defaultCurrency:'USD',purchaseMapFunctions:[],trackBusinessValue:function(a,b){1==h.def(b)&&(v.defaultCurrency=b);1==h.def(a)&&(v.purchaseMapFunctions=a.concat(v.purchaseMapFunctions)); v._analyzePage()},_shopify:function(){if(Shopify&&Shopify.Checkout)return{currencyType:Shopify.Checkout.currency,purchaseAmount:Shopify.Checkout.totalPrice,purchaseType:'Standard',orderId:Shopify.Checkout.token,source:'shopify'}},_gtm:function(){if(d.dataLayer)for(var a=0;a<d.dataLayer.length;a++){var b=d.dataLayer[a];if(b.event&&-1<b.event.indexOf('purchase'))return a=b.ecommerce||b,1==h.undef(a.transaction_id)&&(a=b.ecommerce.purchase.actionField),{currencyType:a.currency,purchaseAmount:a.total|| a.value||(parseFloat(a.revenue)+parseFloat(a.tax)+parseFloat(a.shipping)).toFixed(2),purchaseType:'Standard',orderId:a.transaction_id||a.id,source:'gtm'}}},_ga4:function(){if(d.dataLayer)for(var a=0;a<d.dataLayer.length;a++){var b=d.dataLayer[a];if(3<=b.length&&b[1]&&-1<b[1].indexOf('purchase'))return a=b[2],1==h.undef(a.transaction_id)&&(a=b.ecommerce.purchase.actionField),{currencyType:a.currency,purchaseAmount:a.total||a.value||(parseFloat(a.revenue)+parseFloat(a.tax)+parseFloat(a.shipping)).toFixed(2), purchaseType:'Standard',orderId:a.transaction_id||a.id,source:'ga4'}}},_omniture:function(){var a=d.s||d.omnitureActivity;if(a&&a.events&&-1!=a.events.indexOf('purchase'))return{purchaseAmount:a.products.split(';').pop(),purchaseType:'Standard',orderId:a.purchaseID,currencyType:a.currencyCode,source:'omniture'}},_uniVariable:function(){if(d.universal_variable&&d.universal_variable.transaction){var a=d.universal_variable.transaction;return{currencyType:a.currency,purchaseAmount:a.total,purchaseType:'Standard', orderId:a.order_id,source:'universalvariable'}}}};v.purchaseMapFunctions.push(v._shopify);v.purchaseMapFunctions.push(v._gtm);v.purchaseMapFunctions.push(v._ga4);v.purchaseMapFunctions.push(v._omniture);v.purchaseMapFunctions.push(v._uniVariable);v._wasPurchaseAlreadyReported=function(a){try{if(localStorage){var b=localStorage.getItem('yottaa-ci');if(null==b)b={history:[a]};else if(b=JSON.parse(b),1==h.undef(b.history))b={history:[a]};else{if(-1<b.history.indexOf(a))return!1;b.history.push(a)}localStorage.setItem('yottaa-ci', JSON.stringify(b))}}catch(c){h.log('Error handling localStorage of purchase')}};v._fixPurchaseAmount=function(a){a&&'string'===typeof a&&(a=a.replace(/[^0-9.-]+/g,''));return a};v._analyzePage=function(){l.subscribe({topic:'rum/beforeSend',callback:function(a,b){for(b=0;b<v.purchaseMapFunctions.length;b++)try{var c=v.purchaseMapFunctions[b].call();if(c&&c.purchaseAmount)return a.purchase=c,a.purchase.purchaseAmount=v._fixPurchaseAmount(c.purchaseAmount),a.purchase.currency=a.purchase.currency||v.defaultCurrency, a.pageCategory='order-confirmation',v._wasPurchaseAlreadyReported(a.purchase.orderId)}catch(e){h.log('Purchase mapping error',e,'we will keep going.')}return!0}})};var A={trackBusinessValue:v.trackBusinessValue},wb=!1,Ja=[],U=[],ta='unknown',da={optState:ta},Fa=h.uuid(),Ha={},Wa=0,xb=0,Ga={},R={},kb=h.hasWebVitals(),T={lcp:[],cls:[],fid:[],inp:[]};_isPagePrefetched=function(){var a=z;if(a.serviceWorkers&&a.serviceWorkers.cacheStats){a=a.serviceWorkers.cacheStats.hits||[];for(var b=0;b<a.length;b++)if(0== a[b].indexOf(d.location.toString()))return!0}return!1};A.captureRum=function(){h.def(f.rum)&&h.def(f.rum.beaconUrl)&&0==wb&&(wb=!0,!0!==f.rum.spa&&fa(function(){h.log('onload window event triggered');!0===f.sendRumOnUnload?r():l.publish({topic:'rum/send',message:z.rum})},f.rumDelay),h.addEvent(d,'beforeunload',function(){h.log('beforeunload window event triggered');!0===f.sendRumOnUnload?l.publish({topic:'rum/send',message:z.rum}):x()}))};A.initialize=function(a,b,c,e,k){f.rum={beaconUrl:a,requests:b, key:c,post:!0,advanced:{performanceTime:1500,blockingTime:750,violationSize:1024E3,domInteractiveCoef:200,domContentLoadedEventCoef:150,domCompleteCoef:100,loadEventCoef:50}};h.def(k)&&(k.performanceTime&&(f.rum.advanced.performanceTime=k.performanceTime),k.blockingTime&&(f.rum.advanced.blockingTime=k.blockingTime),k.violationSize&&(f.rum.advanced.violationSize=k.violationSize),k.maxMessageSize&&(f.maxMessageSize=k.maxMessageSize));d.performance&&d.performance.setResourceTimingBufferSize&&d.performance.setResourceTimingBufferSize(500)}; A.addViolation=function(a,b){U.push({lastByteTime:0,implementationType:'dom',type:a,zone:0,duration:0,startTime:-1,resourceName:b,resourceSizeBytes:0})};var Ia=function(a,b){for(var c=0;c<a.length;c++)if('href'!=b||'stylesheet'==a[c].rel){var e=a[c][b];if(null!=e&&''!=e&&(0==e.indexOf('//')&&(e=d.location.protocol+e),1==e.startsWith('http'))){var k=d.performance.getEntriesByName(e);null!=k&&0!=k.length||U.push(B(2,0,{name:e,duration:0,decodedBodySize:0},Ha[e]))}}};Va=function(){A.setExperienceMetric('cumulative_layout_shift', 0);l.subscribe({topic:'web-vitals/cumulative-layout-shift',callback:function(a){var b=a.entry,c=[];if(!b.hadRecentInput){var e=A.getExperienceMetric('cumulative_layout_shift');A.setExperienceMetric('cumulative_layout_shift',e+a.score)}for(a=0;a<b.sources.length;a++)e=b.sources[a],c.push({node:h.elementToString(e.node),currentRect:e.currentRect,previousRect:e.previousRect});T.cls.push({duration:b.duration,entryType:b.entryType,hadRecentInput:b.hadRecentInput,lastInputTime:b.lastInputTime,name:b.name, sources:c,startTime:b.startTime,value:b.value})}});l.subscribe({topic:'web-vitals/first-input',callback:function(a){var b=a.entry;A.setExperienceMetric('first_input_delay',a.delay);A.setExperienceMetric('first_input_name',a.name);A.setExperienceMetric('first_input_start_time',a.startTime);T.fid.push({cancelable:b.cancelable,duration:b.duration,entryType:b.entryType,name:b.name,processingEnd:b.processingEnd,processingStart:b.processingStart,startTime:b.startTime,target:h.elementToString(b.target)})}}); l.subscribe({topic:'web-vitals/largest-contentful-paint',callback:function(a){var b=a.entry;A.setExperienceMetric('largest_contentful_paint',a.time);T.lcp.push({entryType:b.entryType,duration:b.duration,id:b.id,name:b.name,renderTime:b.renderTime,startTime:b.startTime,size:b.size,loadTime:b.loadTime,url:b.url,resourceIndex:Mb(b.url),element:h.elementToString(b.element)})}});l.subscribe({topic:'web-vitals/interaction-to-next-paint',callback:function(a){var b=a.entry;A.setExperienceMetric('interaction_to_next_paint', a.time);T.inp.push({duration:b.duration,entryType:b.entryType,interactionId:b.interactionId,name:b.name,processingEnd:b.processingEnd,processingStart:b.processingStart,startTime:b.startTime,target:h.elementToString(b.target)})}})};A.captureStack=function(){try{return Error().stack}catch(a){return''}};A.set=function(a,b){da[a]=b};A.spa=function(){f.rum&&(f.rum.spa=!0)};A.get=function(){return da};A.now=function(){return d.performance&&d.performance.now?Math.floor(d.performance.now()):Math.floor((new Date).getTime())}; A.setExperienceMetric=function(a,b){if(b>R[a]||1==h.undef(R[a]))R[a]=b};A.getExperienceMetric=function(a){return R[a]};A.getCoreWebVitalDetails=function(){return T};l.subscribe({topic:'core/load',callback:function(){1==g.def(f.rum)&&(f.rum.onLoadTime=A.now());A.captureRum()}});l.subscribe({topic:'sequence/captured',callback:function(a,b){b='';a.open_args?b=a.open_args[1]:a.newNode&&a.newNode.src?b=a.newNode.src:a.delayed&&a.delayed.newNode&&a.delayed.newNode.src?b=a.delayed.newNode.src:a.src&&(b= a.src);Ha[b]=A.captureStack()}});l.subscribe({topic:'core/js/error',callback:function(a,b){Ja.push(a)}});l.subscribe({topic:'rum/spa/transition/start',callback:function(a,b){if(0!=Wa){a=A.now();b=z.rum;f.rum.spa=f.rum.spaTransition=!0;f.delayed=[];if(h.undef(b)||h.undef(b.navigationTiming))h.undef(b)&&(b={}),d.performance&&d.performance.timing&&(b.navigationTiming=d.performance.timing.toJSON());for(var c in b.navigationTiming)b.navigationTiming[c]=a;Fa=h.uuid();U=[];Ja=[];x(xb);d.performance&&(A.clearResourceTimings.call(d.performance), d.performance.clearMarks&&d.performance.clearMarks(),d.performance.clearMeasures&&d.performance.clearMeasures())}}});l.subscribe({topic:'rum/spa/rendered',callback:function(a,b){b=z.rum;var c=A.now(),e=b?b.navigationTiming:null;r();b=z.rum;1==g.undef(b.navigationTiming)&&(b.navigationTiming=e?e:d.performance&&d.performance.timing?d.performance.timing.toJSON():{});a.pageType&&a.viewType&&(b.pageCategory=a.pageType+'-'+a.viewType);1==Yo.utils.def(a.trigger)&&(b.spaTrigger=a.trigger);if(!0===f.rum.spaTransition)b.navigationTiming.loadEventEnd= c;else if(f.rum.onLoadTime)b.navigationTiming.loadEventEnd=b.navigationTiming.navigationStart+(b.navigationTiming.loadEventEnd-b.navigationTiming.navigationStart)+(c-f.rum.onLoadTime);else return f.rum.spa=!1,Wa++,!1;f.rum.spaTransition=!1;1==h.hasResourceTiming()&&(xb=d.performance.getEntries().length);Wa++;a=l.publish({topic:'rum/beforeSend',async:!1,message:z.rum});if(0==a.length||!1!==a[0])h.sendData(z.rum,f.rum.beaconUrl),l.publish({topic:'rum/sendBeacon',message:z.rum});R.cumulative_layout_shift= 0;R.time_to_interactive=0;R.interaction_to_next_paint=0;T={lcp:[],cls:[],fid:[],inp:[]};1==g.def(q.sequence)&&(q.configure({scan:['img','source','script']}),q.sequence.displayNow())}});l.subscribe({topic:'rum/send',callback:function(a,b){r();!0===f.sendRumOnUnload&&x();a=l.publish({topic:'rum/beforeSend',async:!1,message:z.rum});if(0==a.length||!1!==a[0])h.sendData(z.rum,f.rum.beaconUrl),l.publish({topic:'rum/sendBeacon',message:z.rum})}});d.performance&&d.performance.clearResourceTimings&&(A.clearResourceTimings= d.performance.clearResourceTimings,d.performance.clearResourceTimings=function(){});(function(){var a=function(a){Ga={type:a.type,target:h.elementToString(a.target)}};h.addEvent(document,'keydown',a);h.addEvent(document,'click',a);h.addEvent(document,'touchstart',a)})();Va();var ha=document;_loadCookieConfig=function(){var a=h.getCookie('yo-aftershock-config');if(null!=a&&0<a.length)try{a=JSON.parse(a);for(var b=a.resources||[],c=0;c<b.length;c++){var e=b[c];Yo.sequence[e.delayObject||'resource'](e.url)[e.delayType|| 'none'](e.delayValue)}delete a.resources;q.configure(a)}catch(k){}};_domready=function(){function a(a){b(a)}function b(a){('poll'===a||'readystatechange'===a.type)&&'complete'!==ha.readyState||e||(e=!0,f.afterShockLoaded=!0,l.publish({topic:'core/load',async:!0,message:q,persistent:!0}))}function c(){try{ha.documentElement.doScroll('left')}catch(t){fa(c,50);return}b('poll')}var e=!1,k=!0;if('complete'===ha.readyState)f.afterShockLoaded=!0,l.publish({topic:'core/load',async:!0,message:Yo,persistent:!0}); else{if(ha.createEventObject&&ha.documentElement.doScroll){try{k=!d.frameElement}catch(t){}k&&c()}h.addEvent(d,'load',a)}};l.subscribe({topic:'core/start',callback:function(){_loadCookieConfig();_domready()}});var H={man:function(){y('__   __    _   _    \n\\ \\ / /   | | | |            \n \\ V /___ | |_| |_ __ _  __ _  \n  \\ // _ \\| __| __/ _` |/ _` |\n  | | (_) | |_| || (_| | (_| | \n  \\_/\\___/ \\__|\\__\\__,_|\\__,_|');y('\n\nUse the console to see information about Yottaa running on your application\n'); O([{command:'Yo.utils.console.man();',help:'You just ran this command, which displays this help.'},{command:'Yo.utils.console.rum();',help:'See RUM statistics captured by Yottaa for the current web page.'},{command:'Yo.utils.console.resources();',help:'See information about resources that were loaded. Add a URL to see details about that specific URL.'},{command:'Yo.utils.console.coreWebVitals();',help:'See information about Core Web Vitals as they happen on your website.'},{command:'Yo.utils.console.sequencing();', help:'See the configuration for sequencing and the resources it is applied to.'},{command:'Yo.utils.console.storeLocalConfiguration();',help:'Store your local configuration for easier debugging.'},{command:'Yo.utils.console.updateABTest();',help:'Update an A/B test variation.'}])},coreWebVitals:function(){y('\n\nCore web vital information for your page is detailed below.\n');1==h.def(A.getCoreWebVitalDetails)&&(y('\n\nRaw core web vital information below\n\n'),y(A.getCoreWebVitalDetails()));var a= function(a,c,e){var b=new PerformanceObserver(function(k){y(c);k=k.getEntries();if('event'!=a)O(e(k));else{var d={duration:-1};(k||[]).forEach(function(a){h.def(a.interactionId)&&d.duration<a.duration&&(d=a)});0<=d.duration&&O(e([d]))}b.disconnect()});b.observe({type:a,durationThreshold:16,buffered:!0})};a('layout-shift','\n\nCumlative Layout Shift (CLS).\n',function(a){return a.map(function(a){return{value:a.value,elementsChanged:a.sources.length,firstElement:0<a.sources.length?a.sources[0].node: 'No element'}})});a('largest-contentful-paint','\n\nLargest Contentful Paint (LCP).\n',function(a){return a.map(function(a){return{element:a.element,url:a.url,startTime:a.startTime,duration:a.duration}})});a('event','\n\nInteraction to Next Paint (INP)\n',function(a){return a.map(function(a){return{target:a.target,entryType:a.entryType,name:a.name,startTime:a.startTime,duration:a.duration}})})},rum:function(){y('\n\nRum information for your page is detailed below.\n');var a=Yo.stats().rum;if(a){y(); var b=function(a,b){this.prop=a;this.value=b};y('\n\nPAGE LEVEL DATA.\n');O([new b('Site Key',a.siteKey),new b('Optimization State',Yo.rum.get().optState||'None'),new b('Full Url',a.fullPageURL),new b('Category',a.pageCategory),new b('Title',a.pageTitle),new b('User Agent',a.userAgent),new b('Page Prefetched By Service Worker',a.pagePrefetched?'Yes':'No'),new b('Library Release Date',a.releaseDate),new b('Is SPA Site',z.config.rum.spa?'Yes':'No'),new b('Is Edge Page',a.yOptimizations?'Yes':'No'), new b('SPA Trigger',a.spaTrigger?JSON.stringify(a.spaTrigger):'No Info')]);var c=A.get().testVariations;1==h.def(c)?(y('\n\nA/B TESTS.\n'),O(c.map(function(a){return{'Test name':a.testName,'Variation name':a.variationName,Stickiness:a.sticky,Timeout:a.timeout}}))):y('\n\nNO A/B TESTS.\n');y('\n\nVISITOR INFORMATION.\n');c=a.visitor;O([new b('Visitor',c.visitorId),new b('Visitor Sessions',c.numSessions),new b('Visitor Page views',c.numVisitorPageViews),new b('Session',c.sessionId),new b('Session Page views', c.numSessionPageViews)]);y('\n\nNAVIGATION TIMING INFORMATION.\n');c=a.navigationTiming;O([new b('DNS Lookup',c.domainLookupEnd-c.navigationStart),new b('Connection',c.connectEnd-c.navigationStart),new b('First Byte',c.responseStart-c.navigationStart),new b('Last Byte',c.responseEnd-c.navigationStart),new b('domLoading',c.domLoading-c.navigationStart),new b('domInteractive',c.domInteractive-c.navigationStart),new b('DOMContentLoaded',c.domContentLoadedEventEnd-c.navigationStart),new b('domComplete', c.domComplete-c.navigationStart),new b(z.config.rum.spa?'SPA Rendered':'onLoad',c.loadEventEnd-c.navigationStart)]);a=a.experienceMetrics;1==Yo.utils.def(a)&&(y('\n\nCORE WEB VITALS.\n\nFor detailed information of the core web vital information\nUser the Yo.utils.console.coreWebVitals(); function.'),O([new b('CLS',a.cumulative_layout_shift||'No Data'),new b('INP',a.interaction_to_next_paint||'No Data'),new b('LCP',a.largest_contentful_paint||'No Data'),new b('FID',a.first_input_delay||'No Data')]))}else y('NO DATA WAS COLLECTED')}, sequencing:function(){y('\n\nSequencing information for your page is detailed below.\n\n');var a=H._rapidInfo();H._rapidOutput(a);y('document.head sequenced - ',1==h.def(document.head.yo_ac),'\n\ndocument.body sequenced - ',1==h.def(document.body.yo_ac),'\n\nThe table below shows all the rules that have been scheduled for sequencing.\n');O(Yo.stats().config.resources.map(function(a){return{'Applies To':a.url,'Delay Type':a.delayType,'Delay Value':a.delayValue||'','# of Resources Caught':H._resourceAppliedTo(a.url)}}))}, resources:function(a){var b=z.rum,c=b.navigationTiming,e=Math.round(100*(c.responseEnd-c.navigationStart)/(c.loadEventEnd-c.navigationStart)).toFixed(2);y('\n\nResources loaded by the website are detailed below.\n');y('\n\n%c It took %sms to load the html %s% of the onload\n','background: #222; color: #bada55',Math.floor(c.responseEnd-c.navigationStart),e);var k=H._rapidInfo();H._rapidOutput(k);e=z.rum.experienceMetrics;var f={DOMInteractive:Math.floor(c.domInteractive-c.navigationStart),LCP:Math.floor(e? e.largest_contentful_paint:0)};!0===z.config.rum.spa?(0==H._isSpaTransition()?y('\n\nThis is a SPA clean page %s.\n',b.pageCategory):y('\n\nThis is a SPA transition %s.\n',b.pageCategory),f['SPA Rendered']=Math.floor(c.loadEventEnd-c.navigationStart)):f.OnLoad=Math.floor(c.loadEventEnd-c.navigationStart);O(d.performance.getEntriesByType('resource').filter(function(b){return!a||0<=b.name.indexOf(a)}).map(function(a,b){return{'Resource Name':a.name,'Resource Type':H._initiatorType(a),'Load Time':Math.floor(a.duration), 'Started Loading':H._isSpaTransition()?Math.floor(a.responseEnd-a.duration-c.navigationStart):Math.floor(a.responseEnd),'Yottaa Sequencing Type':H._sequencingType(a.name,b,k)}}).reduce(function(a,b){Object.keys(f).sort(function(a,b){return f[a]>f[b]}).forEach(function(c){0<f[c]&&b['Started Loading']>f[c]&&(a.push({'Resource Name':c,'Resource Type':'EVENT','Load Time':'---','Started Loading':f[c],'Yottaa Sequencing Type':'---'}),f[c]=Number.MAX_VALUE)});a.push(b);return a},[]))},storeLocalConfiguration:function(a){h.setCookie('yo-aftershock-config', JSON.stringify(a||{}))},updateABTest:function(a,b){var c=A.get().testVariations;a=a||'A/B Testing';if(1==h.def(c)){var e=c.find(function(b){return b.testName==a});null==e?y('No test with the name of',a,'was found'):(1==h.def(b)?e.variationName=b:e.variationName='Optimized'==e.variationName?'Unoptimized':'Optimized',localStorage.setItem('rapid.testVariations',JSON.stringify(c)),y(a,'test variation name was set to',e.variationName,'Please refresh.'))}else y('No A/B Tests were enabled')},_sequencingType:function(a, b,c){b+=1;var e=qa.config.delayed.filter(function(b){return b.src&&0<b.src.length?b.src==a:b.url==a});return 0==e.length||b<c.configResource?1==c.sa?'No Rule Applied':b<c.libraryResource?'No Library':b==c.libraryResource?'THE LIBRARY':b<c.configResource?'No Configuration':b==c.configResource?'THE CONFIGURATION':'No Rule Applied':1==e.length?e[0].orgDelayType:e.map(function(a){return a.orgDelayType}).join(',')},_resourceAppliedTo:function(a){var b=qa.config.delayed.filter(function(b){return h.matchUrl(a, b.src)});return b?b.length:0},_initiatorType:function(a){if(0<=a.name.indexOf('/rapid/lib/'))return'RAPID LIBRARY';if(0<=a.name.indexOf('qoe-1.yottaa.net/log-nt/event'))return'RAPID RUM';if(0<=a.name.indexOf('/api/v1/configure.rapid.js'))return'RAPID CONFIG';var b=z.rum.webVitalsInfo;return b&&b.lcp&&null!=b.lcp.find(function(b){return a.name==b.url})?'LCP Trigger':a.initiatorType},_rapidInfo:function(){var a=z.rum;a={sa:h.def(a.yOptimizations)&&null!=a.yOptimizations,libraryResource:0,configResource:0}; for(var b=d.performance.getEntriesByType('resource'),c=0;c<b.length;c++){var e=b[c];0<=e.name.indexOf('/rapid/lib/')&&(a.libraryResource=c+1);0<=e.name.indexOf('/api/v1/configure.rapid.js')&&(a.configResource=c+1)}1==H._isSpaTransition()&&(a.libraryResource=1,a.configResource=1);return a},_rapidOutput:function(a){1==a.sa?y('Rapid was loaded via HTML using Edge'):1==H._isSpaTransition()?y('This is a SPA Transition page its assumed rapid was already running.'):(0==a.libraryResource?y('Rapid was NOT loaded via an external resource, assumed to be loaded via another resource'): y('Rapid was was %s resource to load',a.libraryResource),0==a.configResource?y('Rapid Configuration was NOT loaded via an external resource, assumed to be delivere through config caching'):y('Rapid Configuration %s resource to load',a.configResource))},_isSpaTransition:function(){var a=z.rum;return z.config.rum.spa&&a.pageCategory&&-1==a.pageCategory.toLowerCase().indexOf('clean')}};h.console=H;h.webWorker={initialize:function(a,b,c){if(!0===h.undef(d.Worker))return null;a=new Blob(['self.onmessage = ', a.toString()],{type:'application/javascript'});c=new Worker(URL.createObjectURL(a),c);c.onerror=function(a){q.utils.log('Web Worker Error: '+a.message)};c.onmessage=function(a){b(a)};return c}};var g=h;String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return this.substr(b||0,a.length)===a});String.prototype.endsWith||(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)});g.rewrite=function(a){var b=g.metaDataValue('resource.version'),c=g.metaDataValue('cdn.hostname'), e=g.metaDataValue('profile.id');return location.protocol+c+'/'+e+'/'+location.hostname+'/'+b+(0!=a.indexOf('/')?'/':'')+a};g.rewriteImageAPI=function(a){var b=g.metaDataValue('resource.version'),c=g.metaDataValue('cdn.hostname'),e=g.metaDataValue('profile.id'),k='o~',f=g.browser();f&&'chrome'===f.name?k+='f_webp':f&&'safari'===f.name&&13<=f.version&&(k+='f_jp2');1==a.startsWith('/')&&0==a.startsWith('//')&&(a=d.location.protocol+'//'+d.location.hostname+a);return location.protocol+c+'/'+e+'/'+k+'/'+ b+'/'+a};g.rewriteSrcSet=function(a,b){a=a.split(',');for(var c='',e=0;e<a.length;e++){var k=a[e].trim(),d=k.lastIndexOf(' '),f='';-1!=d&&(f=' '+k.substring(d).trim(),k=k.substring(0,d).trim());k=b(k,f);c+=k+f;e<a.length-1&&(c+=', ')}return c};g.select=function(a){var b;if(null==a||1==a.length)return null;if('document'==a)return document;if('window'==a)return d;if(g.def(a.nodeName))return a;if('.'==a[0])return a=document.getElementsByClassName(a.substring(1)),0<a.length?a[0]:null;if(-1!=(b=a.indexOf('['))){var c= a.substring(0,b),e=a.substring(b+1),k=e.indexOf(']'),f=e.indexOf('[');e=e.substring(0,k);var h,l=[],m=null;if(-1!=(h=e.indexOf('~')))k=2;else if(-1!=(h=e.indexOf('*')))k=1;else if(-1!=(h=e.indexOf('=')))k=0;else return null;if(-1!=f){f=a.substring(b+1+f+1);b=f.indexOf(']');try{f=parseInt(f.substring(0,b))}catch(sc){}}var n=e.substring(0,h);h=e.substring(h+1);2==k&&(m=new RegExp(h));c=document.getElementsByTagName(c);for(b=0;b<c.length;b++){var p=0<n.length?c[b].getAttribute(n):c[b].innerHTML;0==k&& p==h?l.push(c[b]):1==k&&null!=p&&-1!=p.indexOf(h)?l.push(c[b]):2==k&&null!=p&&-1!=p.search(m)&&l.push(c[b])}g.log(a,e,n,h,0==l.length?l.length:l[0]);return-1!=f?f<l.length?l[f]:null:l[0]}'#'==a[0]&&(a=a.substring(1));return document.getElementById(a)};g.writeHTML=function(a,b,c){var e=document.createElement('div');e.innerHTML='string'===typeof b?b:b.innerHTML;for(b=e.childNodes;0<b.length;)if('script'==b[0].nodeName.toLowerCase())if(b[0].src)q.sequence.script(e.removeChild(b[0]).src).load();else try{eval(e.removeChild(b[0]).innerHTML)}catch(k){g.log(k)}else'insert'== c?a.parentNode.insertBefore(e.removeChild(b[0]),a):a.appendChild(e.removeChild(b[0]))};g.contains=document.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:document.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!1)}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1};g.updateHeadItemAttributes=function(a,b,c){0>a&&(document.cookie='yo-disable-instanton=true;Max-Age=2',d.location.reload(!0));a=document.documentElement.getElementsByTagName('head')[0].children[a]; for(var e=0;e<b.length;e++)a.removeAttribute(b[e]);for(var k in c)a.setAttribute(k,c[k])};g.replaceHeadItemContent=function(a,b){0>a&&(document.cookie='yo-disable-instanton=true;Max-Age=2',d.location.reload(!0));document.documentElement.getElementsByTagName('head')[0].children[a].textContent=b};g.isIE=function(a){var b=navigator.userAgent;return b&&a&&11==parseInt(a)&&-1!=b.indexOf('rv:11')?!0:b&&a&&-1!=b.indexOf('MSIE '+a)?!0:b&&(-1!=b.indexOf('MSIE')||-1!=b.indexOf('rv:11'))};g.isIos=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&& !d.MSStream};g.isAndroid=function(){return/Android/.test(navigator.userAgent)&&!d.MSStream};g.browser=function(){var a=navigator.userAgent,b=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(b[1])){var c=/\brv[ :]+(\d+)/g.exec(a)||[];return{name:'IE',version:c[1]||''}}if('Chrome'===b[1]&&(c=a.match(/\bOPR|Edge\/(\d+)/),null!=c))return{name:'Opera',version:c[1]};b=b[2]?[b[1],b[2]]:[navigator.appName,navigator.appVersion,'-?'];null!=(c=a.match(/version\/(\d+)/i))&& b.splice(1,1,c[1]);return{name:b[0].toLowerCase(),version:parseInt(b[1])}};g.inArray=function(a,b,c){if(b){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(b,a,c);var e=b.length;for(c=c?0>c?Math.max(0,e+c):c:0;c<e;c++)if(c in b&&b[c]===a)return c}return-1};g.elementToString=function(a){try{if(a instanceof HTMLElement){var b='<'+a.nodeName.toLowerCase();if(a.getAttribute){var c=a.getAttribute('name'),e=a.getAttribute('id'),k=a.getAttribute('class');null!=c&&0<c.length&&(b+=' name="'+ c+'"');null!=e&&0<e.length&&(b+=' id="'+e+'"');null!=k&&0<k.length&&(b+=' class="'+k+'"')}return b+' />'}return a.toString?a.toString():'[Object]'}catch(t){}};var Xa=function(a){l.subscribe({topic:'sequence/beforeloading/'+this.key,callback:a,context:this});return this},Ya=function(a){l.subscribe({topic:'sequence/afterloaded/'+this.key,callback:a,context:this});return this},X={},L={},J=function(a,b,c){this.id='yo_write_'+Math.floor(1E9*Math.random());this.writeContent='';this.writeLocation=a;this.offScreenDom= null;this.delayed=c;this.domElement=b;this.scripts=[];g.log('creating WriteContext',this.id,this.domElement.src);J.prototype.getId=function(a){return this.id};J.prototype.collectDocumentWrite=function(a){this.writeContent+=a;g.log('write override',this.getId(),this.domElement.src,a)};J.prototype.addScript=function(a){this.scripts.push(a)};J.prototype.getWriteSelector=function(){return this.delayed.writeSelector};J.prototype.executeDeferredScripts=function(){for(var a=0;a<this.scripts.length;a++){var b= this.scripts[a],c=b.getAttribute('src');g.def(b.yo_src)&&(c=b.yo_src);q.sequence.script(c).none().writeLocation(b.yo_writeSelector).load()}};J.prototype.finalizeWriteOverride=function(){null==this.writeLocation?g.log('write location is null, content ignored',this.getId(),this.domElement.src):0<this.writeContent.length?(g.log('creating off screen DOM',this.getId(),this.domElement.src),this.offScreenDom=ha.createElement('div'),this.offScreenDom.innerHTML=this.writeContent):g.log('no content, just continue', this.getId(),this.domElement.src);this.continueWrite()};J.prototype.initialize=function(){var a=L[this.delayed.writeSelector];g.undef(a)&&(a=L[this.delayed.writeSelector]=[]);a.push(this);Ka=function(){var b=Array.prototype.slice.call(arguments,0,-1).join('');0<a.length&&a[a.length-1].collectDocumentWrite(b)}};J.prototype.insertContent=function(){for(;0<this.offScreenDom.childNodes.length;){var a=this.offScreenDom.childNodes[0],b=a.nodeName.toLowerCase();if('script'==b){b=a.getAttribute('language'); if(null==b||'vbscript'!=b.toLowerCase()){L[this.delayed.writeSelector].push(this);try{this.offScreenDom.removeChild(a)}catch(t){}q.sequence.script(a.getAttribute('src')).none().writeLocation(this.delayed.writeSelector).load();return!1}try{eval(a.innerHTML),this.offScreenDom.removeChild(a)}catch(t){}this.writeLocation.parentNode.insertBefore(a,this.writeLocation)}else if('link'==b&&'stylesheet'==a.getAttribute('rel').toLowerCase()){document.getElementsByTagName('head')[0].appendChild(a);try{this.offScreenDom.removeChild(a)}catch(t){}}else this.writeLocation.parentNode.insertBefore(a, this.writeLocation)}this.offScreenDom.innerHTML='';return!0};J.prototype.continueWrite=function(){for(var a=L[this.delayed.writeSelector],b=a.pop();b;){g.log('Continue writing ',b.getId());if(b.offScreenDom&&0==b.insertContent())break;0==a.length&&b.executeDeferredScripts();b=a.pop()}}};X.safeWriteInsert=function(a,b,c,e,d){if(1==ka(a,b,c,e)){a:{try{1==g.def(a.yo_src)&&(1==g.isIE()?a.setAttribute('src',a.yo_src):a.src=a.yo_src);a.yo_processed=!0;var k='append'==d?c.yo_a(a):'appendChild'==d||c.contains&& 0==c.contains(b)?c.yo_ac(a):c.yo_ib(a,b);break a}catch(I){g.log('ERROR adding domElement into dom',a,I)}k=void 0}return k}};X.safeWriteEval=function(a,b,c,e,k){b=a;if(f.sequenceWrites&&g.def(e.writeLocation)){for(var t in L)0<L[t].length&&e.writeSelector!=L[t][0].getWriteSelector()&&g.def(e.writeSelector)&&(e.yo_writeSelector=e.writeSelector);g.def(e.writeSelector)&&g.def(e.writeSelector.nodeName)&&(e.writeSelector.id?e.writeSelector='#'+e.writeSelector.id:(t='yo_write_'+Math.floor(1E9*Math.random()), e.writeSelector.setAttribute('id',t),e.writeSelector='#'+t));t=g.select(e.writeSelector);null!=t&&(t=new J(t,{src:b},e),t.initialize(),e.write_context=t)}try{t=['<sc','ript>','</sc','ript>'];a=a.replace(t[0]+t[1],'').replace(t[2]+t[3],'');'gpt'==k&&(a='googletag.cmd.push(function() { googletag.pubads().enableSyncRendering = function(){}; '+a+'});');if(null!=e.before&&1==h.def(e.before.getAttribute)&&'module'==e.before.getAttribute('data-yo-type')){var l=document.createElement('script');for(k=0;k< f.scriptAttrs.length;k++){var m=f.scriptAttrs[k],n=e.before.getAttribute(m);null!=n&&l.setAttribute(m,n)}l.setAttribute('type','module');l.appendChild(document.createTextNode(a));e.before.parentNode.insertBefore(l,e.before)}else d.eval(a);f.sequenceWrites&&e.write_context.finalizeWriteOverride()}catch(na){g.log('Error eval',na)}};f.delayed=[];f.targets=[];var P=function(){this.executed=!1;this.cont=!0};P.prototype.afterLoaded=Ya;P.prototype.beforeLoading=Xa;P.prototype.execute=function(){return this.afterShock()}; P.prototype.clone=function(){var a=new P,b;for(b in this)a[b]=this[b];return a};P.prototype.preventDefault=function(){this.cont=!1};P.prototype.key=null;P.prototype.isConfig=function(a){return this.delayType==a};P.prototype.afterShock=function(){var a=null;if(1!=this.loaded&&(this.delayType='none',this.loaded=!0,g.log('Injecting ',this.newNode,', by ',this.type,' into the DOM now.'),'attributesrc'!=this.type&&l.publish({topic:'sequence/beforeloading/'+this.key,message:this}),0!=this.cont)){var b= this.newNode,c=this.type,e=this.before;if('insertBefore'==c)a=X.safeWriteInsert(b,e,this.me,this,c);else if('appendChild'==c)a=X.safeWriteInsert(b,null,this.me,this,c);else if('append'==c)a=X.safeWriteInsert(b,null,this.me,this,c);else if('replace'==c)this.me.replaceChild(b,e),l.publish({topic:'sequence/afterloaded/'+this.key,message:this});else if('attributesrc'==c)e.setAttribute('src',b.yo_src);else if('src'==c)g.def(this.animator)&&null!=this.animator?animator(e,this.animator):g.def(f.animator)&& animator(e,f.animator),c=e.getAttribute(f.pre+'srcset'),null!=c&&e.setAttribute('srcset',c),e.src=this.srcAttr;else if('style'==c)b.setAttribute('style',b.getAttribute(f.pre+'style'));else if('inner'==c)g.log(this.how+' -> '+b),'replace'==this.how?la(e,b):'eval'==this.how||'gpt'==this.how?a=X.safeWriteEval(b,e,this.me,this,this.how):g.writeHTML(e,b,this.how),l.publish({persistent:!0,topic:'sequence/afterloaded/'+this.key,message:this});else if('function'==c)g.log(this.how+' -> '+b),e=this.func.apply(this.funcThis, this.funcParameters),l.publish({topic:'sequence/afterloaded/'+this.key,message:{delayed:this,retVal:e}});else if('xhr'==c){this.xhr.onreadystatechange&&(this.xhr.original_oonreadystatechange=this.xhr.onreadystatechange);var d=this;this.xhr.onreadystatechange=function(a){4==d.xhr.readyState&&l.publish({topic:'sequence/afterloaded/'+d.key,message:[a,this]});d.xhr.original_oonreadystatechange&&d.xhr.original_oonreadystatechange.apply(this)};this.xhr.xhr_send.apply(this.xhr,this.xhr._yo.send_args)}else{if('fetch'== c)return d=this,this.fetch.originalFetch.apply(this.fetch.self,this.fetch.args).then(function(a){l.publish({topic:'sequence/afterloaded/'+d.src,message:[a,b]});d.fetch.resolve&&d.fetch.resolve(a);return a})['catch'](function(a){d.fetch.reject&&d.fetch.reject(a);l.publish({topic:'sequence/afterloaded/'+d.src,message:[a,b]});return a});'image'==c&&this.loadImage(this)}Nb();return a}};_delayed=function(){return P};var Y=function(a){var b=new (_delayed());'string'===typeof a&&0==a.indexOf('/')&&a.lastIndexOf('/')== a.length-1&&(a=new RegExp(a));b.key=b.url=a;b.match=!0;b.nodeName='resource';g.undef(f.resources)&&(f.resources=[]);for(var c=-1,e=0;e<f.resources.length;e++){var d=f.resources[e].url;if('string'===typeof a&&'string'===typeof d&&-1!=a.indexOf(d)||'string'!==typeof d&&'function'!==typeof d&&'string'===typeof a&&null!=a.match(d)){c=e;break}}b.writeLocation=function(a){this.writeSelector=a;return this};-1==c?f.resources.push(b):f.resources.splice(c,0,b);return b},Ka=null,La=!1;l.subscribe({topic:'core/configure', callback:function(){ib(document)}});var K={},bc=function(a,b,c,e,d){this._yo={open_args:arguments,async:!1===c?!1:!0};g.log('xhr open = '+b+', async '+c);l.publish({topic:'sequence/captured',message:this._yo});return this.xhr_open.apply(this,arguments)},cc=function(a){if(g.undef(this._yo)||!0!==this._yo.async){l.publish({topic:'sequence/beforeloading/'+this._yo.open_args[1],message:{src:this._yo.open_args[1],nodeName:'xhr',args:this._yo.open_args}});var b=this.xhr_send.apply(this,arguments);l.publish({topic:'sequence/afterloaded/'+ this._yo.open_args[1],message:{src:this._yo.open_args[1],nodeName:'xhr',args:this._yo.open_args}});return b}var c=this;b={src:this._yo.open_args[1],nodeName:'xhr'};if(0==ua(b,b,function(a,b){a=a.clone();a.type='xhr';a.xhr=c;a.src=b.src;a.newNode=b;f.delayed.push(a);1==f.afterShockLoaded&&a.execute()}))return g.log('xhr send is NOT deferred, '+b.src),this.xhr_send.apply(this,arguments);this._yo.send_args=arguments;var e=f.delayed[f.delayed.length-1];g.log('xhr send is deferred, ',b.src,', ',e.delayType, e.delayValue);return this},dc=function(){if(g.undef(this._yo)||g.undef(this._yo.send_args)||!0!==this._yo.async)return this.xhr_abort.apply(this,arguments);g.log('Abort to the xhr object is called',' async true')};if(g.def(d.fetch))var ec=function(){g.log('fetch called ',arguments);l.publish({topic:'sequence/captured',message:{fetch_args:arguments}});var a=this,b={src:arguments[0].toString(),nodeName:'xhr'};if(0==ua(b,b,function(b,c){b=b.clone();b.type='fetch';b.xhr=a;b.src=c.src;b.newNode=c;f.delayed.push(b); 1==f.afterShockLoaded&&b.execute()}))return g.log('fetch send is NOT deferred, ',b.src),K.originalFetch.apply(this,arguments).then(function(a){l.publish({topic:'sequence/afterloaded/'+b.src,message:[a,b]});return a})['catch'](function(a){l.publish({topic:'sequence/afterloaded/'+b.src,message:[a,b]});return a});var c=f.delayed[f.delayed.length-1];c.fetch={args:arguments,originalFetch:K.originalFetch,self:this};c.fetch.promise=new Promise(function(a,b){c.fetch.resolve=a;c.fetch.reject=b;g.log('Promise for delayed fetch call', c)});g.log('fetch is deferred, ',b.src,c.delayType,c.delayValue);return c.fetch.promise};K.create=function(a){1!=f.sequenceXHR&&q.configure({sequenceXHR:!0});a=Y(a);a.nodeName='xhr';a.rewrite=function(a){this.afterLoaded(function(b){g.log('Begging to rewrite data for ajax call.');try{if(!(2>b.length)){var c=b[1],d=null,f=this;if('text'==c.responseType||''==c.responseType)d=c.responseText,d=a.call(this,d);else if('json'==c.responseType)d=JSON.stringify(c.response),d=a.call(this,d);else if('blob'== c.responseType){console.log('blob response',c.response);var h=c.onload;h&&(c.onload=null);var l=new FileReader;l.addEventListener('load',function(){f.blobText=a.call(f,l.result);h.call(c)});l.readAsText(c.response)}else return;Object.defineProperty&&(Object.defineProperty(c,'responseText',{get:function(){return d}}),Object.defineProperty(c,'response',{get:function(){return'json'==this.responseType?JSON.parse(d):'blob'==this.responseType?new Blob([f.blobText],{type:'application/json'}):d}}))}}catch(Qb){g.log('Error in rewrite handling', Qb)}})};return a};K.captureMethods=function(a){1==g.undef(a.XMLHttpRequest.prototype.xhr_open)&&(a.XMLHttpRequest.prototype.xhr_open=a.XMLHttpRequest.prototype.open,a.XMLHttpRequest.prototype.xhr_send=a.XMLHttpRequest.prototype.send,a.XMLHttpRequest.prototype.xhr_abort=a.XMLHttpRequest.prototype.abort,1==g.def(a.fetch)&&(K.originalFetch=a.fetch))};K.overrideMethods=function(a){a.XMLHttpRequest.prototype.open=bc;a.XMLHttpRequest.prototype.send=cc;a.XMLHttpRequest.prototype.abort=dc;1==g.def(a.fetch)&& (a.fetch=function(){var a=this,c=arguments;return $yojscomp.asyncExecutePromiseGeneratorProgram(function(b){return b.return(ec.apply(a,c))})})};K.captureMethods(d);l.subscribe({topic:'core/configure',callback:function(){1==f.sequenceXHR&&1==g.def(XMLHttpRequest)&&K.overrideMethods(d)}});_findTags=function(a,b){var c=document.getElementsByTagName(a);g.log('Find all '+a+' tags in the document.');for(var e=0,d=c.length;e<d;e+=1){var t=c[e];if(!0===b){var h=t.getAttribute(f.pre+'delayType');null==h||'defer'!= h&&'lazy'!=h||(t.setAttribute(f.pre+'delayType','none'),t.setAttribute(f.pre+'delayValue',''));h=t.getAttribute('type');null!=h&&(-1<h.indexOf('yo/sequence/defer')||-1<h.indexOf('yo/sequence/lazy'))&&t.setAttribute('type','yo/sequence/none/')}if('true'!==t.getAttribute(f.pre+'loaded')){h=_srcAttr(t);var l=t.getAttribute(f.pre+'style');h?(g.log('Found src ',a,', src = '+h+' tag to handle with AfterShocK.'),q.sequence.content(t).load()):'script'==a?(h=t.getAttribute('type'),t.getAttribute(f.pre+'src'), h&&-1<h.indexOf('yo/sequence')?(g.log('Found a '+a+', yo/sequence tag to handle with AfterShocK.'),q.sequence.content(t).load()):'yo/abtest'==h&&_abTestScript(t)):l&&(g.log('Found style ',a,', src = '+h+' tag to handle with AfterShocK.'),t=q.sequence.content(t),t.type='style',t.before=t.newNode,t.load())}}};_srcAttr=function(a){for(var b=0;b<f.srcAttrs.length;b++){var c=a.getAttribute(f.srcAttrs[b]);if(null!=c)return c}return(c=a.getAttribute('src'))&&'data:image/cloaked;plain,'==c.slice(0,25)?c.substring(25): null};_needsEval=function(a){var b=a.getAttribute('type');return'SCRIPT'==a.nodeName.toUpperCase()&&null==a.getAttribute('src')&&null!=b&&0<=b.indexOf('chain')};_loadFromDOM=function(a){a='string'===typeof a?g.select(a):a;var b=content=g.select(a.getAttribute(f.pre+'location')),c=a.getAttribute(f.pre+'how'),e=new (_delayed()),k=a.nodeName.toLowerCase(),h=a;'eval'==c||'gpt'==c?(content=a.innerHTML,e=q.sequence.script(content)):1==_needsEval(a)?(content=a.innerHTML,c='eval',e=q.sequence.script(content)): null==c&&(c='replace');var l=a.getAttribute(f.pre+'key');null!=l&&(e.key=l);var m=a.getAttribute(f.pre+'delayType'),n=a.getAttribute(f.pre+'delayValue'),p=_srcAttr(a),u=p&&0<p.length?'src':'inner',r=a.getAttribute(f.pre+'animator'),v=a.getAttribute(f.pre+'onbefore');null!=v&&g.isFunction(d[v])&&e.beforeLoading(d[v]);var w=a.getAttribute(f.pre+'onLoad');null!=w&&g.isFunction(d[w])&&e.afterLoaded(d[w]);null==content&&(content=a,c='insert');a.setAttribute(f.pre+'loaded','true');if(-1===g.inArray(a,f.targets)){e.animator= r;if('img'==k||'source'==k||'picture'==k)null==m&&(m='lazy'),null==b&&(b=a);else if('script'==k){k=a.getAttribute('type');null!=k&&(k=k.split('/'),2<k.length&&(m=k[2],n=k[3]));k=a.getAttribute(f.pre+'writeLocation');e.writeSelector=k||a;r=p;null==r&&'chain'==m&&(r=a.getAttribute('src'));if(null!=r){null==m&&(m='none');b={};for(c=0;c<f.scriptAttrs.length;c++)e=f.scriptAttrs[c],b[e]=a.getAttribute(e);c=a.getAttribute(f.pre+'type');null!=c&&(b.type=c);e=q.sequence.script(r,b)[m](n);null!=l&&(e.key=l); null!=v&&g.isFunction(d[v])&&e.beforeLoading(d[v]);null!=w&&g.isFunction(d[w])&&e.afterLoaded(d[w]);e.writeLocation(k||a);e.src=r;e.me=a;e.load();return e}null==b&&(b=a)}null==m&&(m='none');1==g.contains(document.documentElement,a)&&a.setAttribute(f.pre+'loaded','true');e[m](n);e.before=b;e.me=h;e.type=u;e.srcAttr=p;e.how=c;e.match=!1;e.newNode='eval'==c||'gpt'==c?content:a;e.key||(e.key=e.srcAttr);return e}};l.subscribe({topic:'core/load',callback:function(){q.sequence.scanTags(!1)}});var ia={}, M={},ea=!1,Za=null,yb=[],fc=function(a,b){var c='on'+b.toLowerCase();if(!g.def(M[c])&&(M[c]={object:a,name:b,event:null,propertySets:[],listeners:[],stacks:[]},g.addEvent(a,b,function(c){var e=M['on'+b.toLowerCase()];e.event=c;navigator.userAgent.match(/MSIE /)&&(e.event={type:c.type});!a.yo_addEventListener&&a.addEventListener&&(a.yo_addEventListener=a.addEventListener,a.addEventListener=ca(!0));!a.yo_attachEvent&&a.attachEvent&&(a.yo_attachEvent=a.attachEvent,a.attachEvent=ca(!1))}),Object.defineProperty&& 'load'==b))try{Object.defineProperty(d,'onload',{set:function(a){try{g.log('loadEventSequencing: defineProperty window.onload',ea),0==ea?a.call(d,M.onload.event):(M.onload.propertySets.push(a),M.onload.stacks.push(Error().stack))}catch(k){g.log('loadEventSequencing: Overridden onload threw an exception',k)}}})}catch(e){g.log('loadEventSequencing: onload property event handler threw exception',e)}};_clearEvents=function(a){1==g.def(a.yo_addEventListener)&&(a.addEventListener=a.yo_addEventListener, delete a.yo_addEventListener);1==g.def(a.yo_attachEvent)&&(a.attachEvent=a.yo_attachEvent,delete a.yo_attachEvent)};ia.loadEvents=function(a,b){1==g.undef(a)&&(a=[{eventName:'DOMContentLoaded',eventObject:document},{eventName:'load',eventObject:d}]);1==g.def(b)&&(ea=b);for(b=0;b<a.length;b++)fc(a[b].eventObject,a[b].eventName)};ia.clearEvents=function(){for(var a=[d,document],b=0;b<a.length;b++)_clearEvents(a[b])};ia.fireLoadEvents=function(){if(1==ea){ea=!1;g.log('loadEventSequencing: fireLoadEvents was called will loop through all the events', M);for(var a in M){var b=M[a];if(b){for(var c=0;c<b.propertySets.length;c++)try{g.log('loadEventSequencing: Firing propertySets via fireLoadEvents',b),b.propertySets[c].call(d,b.event)}catch(e){g.log('loadEventSequencing: Exception for the property set listener',b,e)}for(c=0;c<b.listeners.length;c++)try{g.log('loadEventSequencing: Firing listeners via fireLoadEvents',b),b.listeners[c].call(b.object||d,b.event)}catch(e){g.log('loadEventSequencing: Exception for the event listener',b,e)}}}}};ia.jQueryEvents= function(a,b){Za=$.fn.ready;$.fn.ready=function(){g.log('sequencejQueryEvents $.fn.ready',arguments,this);var a=Array.prototype.slice.call(arguments);if(0<this.length&&9===this[0].nodeType)yb.push({self:this,args:a});else return oldReady.apply(this,a)}};ia.firejQueryEvents=function(){g.log('sequencejQueryEvents $.fn.ready',arguments,this);1==Yo.utils.def(Za)&&($.fn.ready=Za);yb.forEach(function(a){$(document).ready(a.args[0])});1==g.def(d.$)&&1==g.def($.prototype.on)&&$(d).trigger('load')};var Ba= null,zb=function(a){1==h.def(a.delayType)&&(a.tempImage=new Ba,0==h.def(a.orgOnLoad)&&(a.orgOnLoad=a.image.onload),a.image.onload=null,a.tempImage.onload=function(b){null!=a.orgOnLoad&&a.orgOnLoad.call(a.image,b);l.publish({topic:'sequence/afterloaded/'+a.key,message:arguments})},0==h.def(a.orgOnError)&&(a.orgOnError=a.image.onerror),a.image.onerror=null,a.tempImage.onerror=function(b){a.orgOnError&&a.orgOnError.call(a.image,b);l.publish({topic:'sequence/afterloaded/'+a.key,message:arguments})},l.publish({topic:'sequence/beforeloading/'+ a.key,message:arguments}));0==a.webWorkerCallback?(a.tempImage.src=a.src,a.image.setAttribute('src',a.src)):gc(a.src,function(a,c){a=URL.createObjectURL(a.data.blob);c.image.setAttribute('src',a);l.publish({topic:'sequence/afterloaded/'+c.key,message:c})},a)},hc=function(a,b,c){this.yo_src=a;Yo.utils.log('Overloaded image src being set',a);a={src:a,key:a.toLowerCase()};l.publish({topic:'sequence/captured',message:a});var e={src:a.src,key:a.key,nodeName:'image'};nodeConfig=oa(e);var d=nodeConfig.clone(); d.type='image';d.nodeName='image';d.src=e.src;d.image=b;d.newNode=e;f.delayed.push(d);d.loadImage=zb;1==f.afterShockLoaded&&d.execute();a.image=c||b;'none'==nodeConfig.delayType&&zb(a)},ic=function(){null==Ba&&(Ba=Image,Image=function(){var a=new Ba;try{Object.defineProperty(a,'src',{set:function(b){hc(b,this,a)},get:function(){return this.yo_src?this.yo_src:''}})}catch(b){g.log(b)}return a})},$a=null,ab={},gc=function(a,b,c){try{null===$a&&($a=h.webWorker.initialize(function(a){var b,c,e;return $yojscomp.asyncExecutePromiseGeneratorProgram(function(d){if(1== d.nextAddress)return b=a.data.imageUrl,!0===a.data.log&&console.log('Loading image via a web worker',b),d.yield(fetch(b,a.data.fetchOptions),2);if(3!=d.nextAddress)return c=d.yieldResult,d.yield(c.blob(),3);e=d.yieldResult;!0===a.data.log&&console.log('Image finished loading and now posting message back',b);self.postMessage({imageURL:b,uuid:a.data.uuid,blob:e});d.jumpToEnd()})},function(a){b(a,ab[a.data.uuid].delayedObject);delete ab[a.data.uuid]},{name:'yottaa-image-manager'}));var e=h.uuid();ab[e]= {delayedObject:c,imageUrl:a};$a.postMessage({uuid:e,imageUrl:a,log:f.log,fetchOptions:c.fetchOptions})}catch(k){h.log('Error creating image web worker',k)}};l.subscribe({topic:'core/configure',callback:function(){1==f.sequenceImage&&ic()}});l.subscribe({topic:'core/load',callback:function(){}});_delayed().prototype.defer=function(a){this.orgDelayType=this.delayType='defer';this.delayValue=a;if(1==g.isIE()&&0==f.optimizeIE)return g.log('Override defer on IE',this.url),this.none();this.execute=function(){if(0!= f.afterShockLoaded&&1!=this.executed){this.executed=!0;g.log('Loading ',this.newNode,' via timer event. It will load in ',this.delayValue);var a=this;fa(function(){a.afterShock()},1*this.delayValue);return this}};return this};_delayed().prototype.event=function(a){this.orgDelayType=this.delayType='event';this.delayValue=a;this.execute=function(){if(0!=f.afterShockLoaded&&1!=this.executed){this.executed=!0;g.log('Event handling '+(this.before?this.before.src:'no object')+' '+this.delayValue);var a= this.delayValue.split(' '),c=a[0].toLowerCase(),e=this;if('beforeloading'==c||'afterloaded'==c){a=a[1];if('#adjacent'==a)return this.defer(0);l.subscribe({topic:'sequence/'+c+'/'+a,context:this,callback:function(a){g.log('Loading '+(this.before?this.before.src:'no object')+' via event handler '+this.delayValue);e.afterShock()}})}else'pubsub'==c?(a=a[1],l.subscribe({topic:a,context:this,callback:function(a){g.log('Loading '+(this.before?this.before.src:'no object')+' via pubsub handler '+this.delayValue); e.afterShock()}})):Pb(g.select(a[1]),a,this);return this}};return this};l.subscribe({topic:'core/load',callback:function(){}});var Z={},W={top:0-f.offset,left:0-f.offset,height:0,width:0,right:0,bottom:0},Ab=function(a){a=a.getBoundingClientRect();g.undef(a.width)&&(a={top:a.top,left:a.left,right:a.right,bottom:a.bottom,width:a.right-a.left,height:a.bottom-a.top});return a},Bb,Cb;document.defaultView&&document.defaultView.getComputedStyle&&(Bb=function(a,b){var c;if(c=a.ownerDocument.defaultView){if(c= c.getComputedStyle(a,null)){var e=c.getPropertyValue(b);''!==e||g.contains(a.ownerDocument.documentElement,a)||(e=a.style[b])}return e}});document.documentElement.currentStyle&&(Cb=function(a,b){a=a.currentStyle&&a.currentStyle[b];return''===a?'auto':a});var bb=Bb||Cb;document.getElementsByClassName||(document.getElementsByClassName=function(a){return this.querySelectorAll('.'+a)});Z.scrollHandler=function(a){if(1==g.undef(document.body)||null==document.body)return!0;W.height=d.innerHeight||document.documentElement.clientHeight|| document.body.clientHeight;W.bottom=W.height;W.width=d.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;W.right=W.width;if(g.undef(document.documentElement.getBoundingClientRect))return!0;for(var b=a=0;b<f.delayed.length;b++)if(f.delayed[b].isConfig('lazy')){var c=b,e=f.delayed[c],k=e.delayValue;if('string'===typeof k)k=g.select(k);else if(null==k||g.def(k))k=e.before;if(null!=k&&(k&&'SOURCE'==k.nodeName&&(k=k.parentNode),1==g.contains(document.documentElement,k))){var h= Ab(k);if(0==(null!=f.intervalID&&g.def(k.getBoundingClientRect))&&h.top<W.height+f.offset)g.log('showIfVisible is visible ',c,', ',k),f.delayed[c].afterShock();else{if(e=1==(null!=f.intervalID&&g.def(k.getBoundingClientRect)))if(e=(!f.lazyCheckSize||0<h.width&&0<h.height)&&1==sa(h,W)){b:{e=k;for(var l=e.parentNode;null!=l&&1==l.nodeType;){var m=bb(l,'overflow');if(m&&'hidden'==m.toLowerCase())e.yo_clipped=l;else if(0==bb(l,'opacity')||'none'==bb(l,'display')){e=!1;break b}l=l.parentNode}1==g.undef(e.yo_clipped)&& (e.yo_clipped=!1);e=0!=e.yo_clipped?sa(h,Ab(e.yo_clipped)):!0}e=1==e}e&&(g.log('showIfVisible is visible ',c,', ',k),f.delayed[c].afterShock())}}a++}};Z.delayed=function(a){this.orgDelayType=this.delayType='lazy';this.delayValue=a;this.execute=function(a){return this};return this};var Db=function(a,b){var c=0;return function(){var e=+new Date;e-c<b||(c=e,a.apply(this,arguments))}}(Z.scrollHandler,20);g.addEvent(d,'scroll',Db);g.addEvent(d,'resize',Db);l.subscribe({topic:'core/load',callback:function(){Z.scrollHandler()}}); _delayed().prototype.lazy=Z.delayed;l.subscribe({topic:'core/configure',callback:function(a){0<a.lazyTimer&&null==f.intervalID&&(f.intervalID=rb(Z.scrollHandler,a.lazyTimer))}});_delayed().prototype.none=function(){this.orgDelayType=this.delayType='none';this.execute=function(){return this.afterShock()};return this};_delayed().prototype.remove=function(a,b,c){var e=!1,d='yostore'+g.metaDataValue('resource.version')+this.key;this.delayValue=a;g.undef(a)||'always'==a?(e=!0,this.delayValue='always'): 'session'==a?sessionStorage&&'true'==sessionStorage.getItem(d)?e=!0:sessionStorage&&sessionStorage.setItem(d,'true'):'visitor'==a&&(localStorage&&'true'==localStorage.getItem(d)?e=!0:localStorage&&localStorage.setItem(d,'true'));if(1==e)this.orgDelayType=this.delayType='remove',this.execute=function(){return this};else this[b](c);return this};var N=null,jc=function(a,b){var c=g.select(b);N=new MutationObserver(function(c){for(var e=!1,d=0;d<c.length;d++){var f=c[d];if('attributes'==f.type&&'observe.attributes'== a.delayType||'observe.all'==a.delayType)if(g.log('The '+f.attributeName+' attribute was modified for ',b),'all'==a.delayValue){e=!0;break}else{if(f.attributeName==a.delayValue){e=!0;break}}else if('childList'==f.type&&'observe.children'==a.delayType||'observe.all'==a.delayType)if(g.log('A child node has been added or removed for',b),'all'==a.delayValue){e=!0;break}else if(0<f.addedNodes.length&&'added'==a.delayValue){e=!0;break}else if(0<f.removedNodes.length&&'removed'==a.delayValue){e=!0;break}}1== e&&(a.afterShock(),N.disconnect())});N.observe(c,{attributes:!0,childList:!0})};_delayed().prototype.observe=function(a,b,c){this.orgDelayType=this.delayType='observe.'+b;this.delayValue=c?c:'all';if('undefined'===typeof MutationObserver)return g.log('Override defer on IE',this.url),this.none();this.execute=function(){if(0!=f.afterShockLoaded&&1!=this.executed)return this.executed=!0,g.log('Loading ',this.newNode,' via observer. It will loaded when ',a,'changes',b),jc(this,a),this};return this};_delayed().prototype.firstInput= function(a,b){return this.webvitals('first-input',a,b)};_delayed().prototype.largestContentfulPaint=function(a,b){return this.webvitals('largest-contentful-paint',a,b)};_delayed().prototype.timeToInteractive=function(a,b){return this.webvitals('time-to-interactive',a,b)};var kc=function(){var a=g.calculateTti();0<a&&(clearInterval(f.ttiWatcherIntervalID),l.publish({topic:'web-vitals/time-to-interactive',persistent:!0,message:{time:a}}))};_delayed().prototype.webvitals=function(a,b,c){this.delayType= this.orgDelayType=a;this.delayValue=[a,b];0==g.hasWebVitals()?(g.log('webvitals fallback for ',this.url),this.defer(b?b:1E3)):this.execute=function(){var a=this;this.executed=!0;l.subscribe({topic:'web-vitals/'+this.orgDelayType,callback:function(e,d){d=!0;c&&(d=c(e));d&&(f.afterShockLoaded?a.afterShock():a.defer(b?b:0))}});'time-to-interactive'==this.orgDelayType&&(0<f.ttiWatcherInterval&&null==f.ttiWatcherIntervalID&&(f.ttiWatcherIntervalID=rb(kc,f.ttiWatcherInterval)),a.defer(b?b:1E3));0==g.hasWebVitals()&& (g.log('webvitals fallback for ',this.url),a.defer(b?b:1E3))};return this};_delayed().prototype.spa=function(a){if(a)return this[a]();var b=this;this.event('pubsub rum/spa/rendered');l.subscribe({topic:'rum/spa/transition/start',callback:function(a,e){b.event('pubsub rum/spa/rendered')}});l.subscribe({topic:'rum/spa/rendered',callback:function(a,e){b.none()}})};_delayed().prototype.startTransition=function(a){this.orgDelayType=this.delayType='startTransition';this.delayValue=a;this.execute=function(){var a= this;this.executed=!0;l.subscribe({topic:'rum/spa/transition/start',callback:function(b,e){(g.undef(a.delayValue)||0<=(b.pageType+'-'+b.viewType).indexOf(a.delayValue))&&a.afterShock()}});return this};return this};_delayed().prototype.finishedRendering=function(a){this.orgDelayType=this.delayType='finishedRendering';this.delayValue=a;this.execute=function(){var a=this;this.executed=!0;l.subscribe({topic:'rum/spa/rendered',callback:function(b,e){(g.undef(a.delayValue)||0<=(b.pageType+'-'+b.viewType).indexOf(a.delayValue))&& a.afterShock()}});return this};return this};var Eb=!1,Fb=!1,Q=function(){0==Fb&&(l.publish({topic:'sequencing/user/first',async:!1,persistent:!0,message:{}}),g.removeEvent(document,'mousemove',Q),g.removeEvent(document,'scroll',Q),g.removeEvent(document,'keydown',Q),g.removeEvent(document,'click',Q),g.removeEvent(document,'touchstart',Q),Fb=!0)};_delayed().prototype.firstInteraction=function(a,b){this.orgDelayType=this.delayType='firstInteraction';this.delayValue=[a,b];this.execute=function(){var c= this;this.executed=!0;l.subscribe({topic:'sequencing/user/first',callback:function(e,d){1!=a||f.afterShockLoaded?c.afterShock():c.defer(b?b:0)}})};return this};0==Eb&&(Eb=!0,g.addEvent(document,'mousemove',Q),g.addEvent(document,'scroll',Q),g.addEvent(document,'keydown',Q),g.addEvent(document,'click',Q),g.addEvent(document,'touchstart',Q));var Ca={};f.chaining={};_lastChainedResource=function(a,b){var c=Ca[a];if(1==g.undef(c))return Ca[a]=[b],null;c.push(b);return c[c.length-2]};l.subscribe({topic:'core/load', callback:function(){}});_delayed().prototype.chain=function(a){this.orgDelayType=this.delayType='chain';this.chainId=this.delayValue=a;if(1==g.undef(this.before))return this;if(1==g.isIE()&&0==f.optimizeIE)return g.log('Override defer on IE',this.url),this.none();var b=_lastChainedResource(a,this);this.chainIndex=null==b?0:b.chainIndex+1;this.key='chained-resource-'+a+'-'+this.chainIndex;this.beforeLoading(function(a){1==g.undef(a.writeSelector)&&(a.writeSelector=a.domElement||a.me);1==g.def(a.writeSelector)&& (a.writeSelector.id&&''!=a.writeSelector.id?a.writeSelector='#'+a.writeSelector.id:a.writeSelector.setAttribute&&(a.writeSelector.setAttribute('id',a.key),a.writeSelector='#'+a.key),0==f.sequenceWrites&&(f.sequenceWrites=!0,q.sequence.document(document)));var b=f.chaining[a.chainId];b&&0==a.chainIndex&&!0!==b.started&&(b.started=!0,l.publish({topic:'sequence/chain/'+a.chainId+'/starting',message:{id:a.key,config:b,resources:Ca[a.chainId]}}))});if(null==b){var c=f.chaining[a];1==g.def(c)?c(this):this.defer(10); f.chaining[a]={started:!1,resources:[]}}else this.execute=function(){this.key='chained-resource-'+a+'-'+this.chainIndex;this.before&&this.before.src&&(this.key+='/'+this.before.src);this.executed=!0;var c=this;l.subscribe({topic:'sequence/afterloaded/'+b.key,context:this,callback:function(a){g.log('Loading chained resource',a);c.afterShock()}});this.afterLoaded(function(a){var b=f.chaining[a.chainId],c=Ca[a.chainId];c&&a.chainIndex==c[c.length-1].chainIndex&&!0!==b.finished&&(b.finished=!0,l.publish({topic:'sequence/chain/'+ a.chainId+'/finished',message:{id:a.chainId,config:b,resources:c}}))})};return this};var ra={},aa=null;_isImageLike=function(a){return-1!='imgpicturesourceiframe'.indexOf(a)};var lc=function(a,b){for(var c=f.scan.length,e=0;e<c;e++)if(f.scan[e]===b){var d=a.getAttribute('src'),g={domElement:a,src:''!=a.src?d:a.textContent,nodeName:'dom'};ua(g,g,function(c,e){c=c.clone();c.type='dom';c.src=d;c.newNode=e;f.delayed.push(c);'script'==b&&(e=a.getAttribute('type')||'text/javascript',a.setAttribute(f.pre+ 'type',e),a.type='yo/sequence/'+c.delayType+'/'+c.delayValue,''!=a.src?(a.setAttribute(f.pre+'src',a.src),a.src=''):a.setAttribute(f.pre+'how','eval'))})}},Gb=function(a){'none'===a&&null!==aa?(aa.disconnect(),aa=null):'none'!==a&&'undefined'!==typeof MutationObserver&&null==aa&&(aa=new MutationObserver(function(a){for(var b=0;b<a.length;b++)for(var e=a[b].addedNodes,d=0;d<e.length;d++){var h=e[d];if(h.nodeType===Node.ELEMENT_NODE){var l=h.nodeName.toLowerCase();if('body'===l)C.node(h),'top'===f.scrapeLevel&& aa.disconnect();else if('sequencing'===f.scrapeLevel&&(null==h.type||h.type.indexOf&&-1==h.type.indexOf('yo/sequence')))try{lc(h,l)}catch(ma){g.log('Exception _sequenceScraping',ma)}}}}),aa.observe(document,{childList:!0,subtree:!0,attributes:!1,characterData:!1}))};Gb(f.scrapeLevel);l.subscribe({topic:'core/configure',callback:function(a,b){Na();Gb(a.scrapeLevel)}});ra.createElement=function(a){a.yo_createElement||(a.yo_createElement=a.createElement,a.createElement=function(b){var c=a.yo_createElement(b), e=b.toLowerCase();g.log('_sequencing.createElement',c,b);if(('iframe'==e||'script'==e)&&1==g.undef(c.yo_src_override)){c.yo_src_override=!0;try{Object.defineProperty(c,'src',{set:function(a){if(this.yo_src=a)if(g.log('Object.src',a),nodeConfig=oa(this),null!=nodeConfig&&'none'!=nodeConfig.delayType){if(a=nodeConfig.clone(),a.type='attributesrc',a.newNode=this,a.before=this,a.me=this,f.delayed.push(a),domCompleteTriggered)return a.execute()}else this.setAttribute('src',a)},get:function(){return this.yo_src? this.yo_src:''}})}catch(k){g.log(k)}}return c})};ra.create=function(a){var b=null;if(1===arguments.length)b=Y(a);else if(2===arguments.length){var c=arguments[0],e=arguments[1];b=Y(function(a){if('dom'==a.nodeName&&a.domElement.src&&0<a.domElement.src.length){var b=!1,d=!1;null!=c&&(b=null!=a.domElement.src.match(c));null!=e&&(d=null!=a.domElement.src.match(e));if(1==b&&1==d)return Yo.utils.log('This node was both excluded and include. It will be excluded - ',a),!1;Yo.utils.log('Included - ',b,'Excluded - ', d,' - ',a);return d?!d:b}Yo.utils.log('NODE => bypass nothing to do ',a);return!1})}'sequencing'!=f.scrapeLevel&&q.configure({scrapeLevel:'sequencing'});b.nodeName='dom';return b};1==g.isIE()&&1==f.optimizeIE&&ra.createElement(document);l.subscribe({topic:'core/load',callback:function(){}});_delayed().prototype.alwaysBefore=function(a){this.alwaysBefore=a;if(1==g.isIE()&&0==f.optimizeIE)return g.log('Override defer on IE',this.url),this.none();var b=this.execute;this.execute=function(){1==g.def(b)&& b.call(this);if(0!=f.afterShockLoaded&&1!=this.alwaysBeforeExecuted){this.alwaysBeforeExecuted=!0;g.log('Loading ',this.newNode,' via alwaysBefore timer event. It will load in ',this.alwaysBefore);var a=this;fa(function(){a.afterShock()},1*this.alwaysBefore);return this}};return this};var C={};domCompleteTriggered=!1;C.node=function(a){if(a=g.select(a))a.yo_ac=g.def(a.yo_ac)?a.yo_ac:a.appendChild,a.yo_ib=g.def(a.yo_ib)?a.yo_ib:a.insertBefore,a.yo_a=g.def(a.yo_a)?a.yo_a:a.append,a.appendChild=Tb,a.append= Ub,a.insertBefore=Sb};C.clearNode=function(a){g.def(a.yo_ib)&&(a.insertBefore=a.yo_ib);g.def(a.yo_ac)&&(a.appendChild=a.yo_ac);g.def(a.yo_a)&&(a.append=a.yo_a)};C.addScanner=function(a){f.scan||(f.scan=[]);-1===g.inArray(a,f.scan)&&f.scan.push(a)};C.displayNow=function(a){!0===a&&'active'==q.rum.get().optState&&(a=!1);g.log('Handle the display of all visible tags up to now.');C.scanTags(!0,a);Z.scrollHandler({})};C.createTimer=function(a,b){Yo.configure({lazyTimer:a});b&&Yo.configure({lazyCheckSize:b})}; C.resource=Y;C.script=function(a,b,c){var e=Y(a);1==g.isFunction(a)?(e.src='[object Function]'+a.name,e.key=c||'[object Function]'+a.name,e.func=a):(e.src=a,e.newNode=a,1==g.def(c)&&(e.key=c));1==g.undef(b)&&(b={});e.before={src:a,attributes:b};e.load=function(a){var c=document.createElement('script');c.type='text/javascript';b.async=!0;for(var e in b)null!=b[e]&&c.setAttribute(e,b[e]);c.yo_src=this.url;(a||document.getElementsByTagName('script')[0].parentNode).appendChild(c);return this};e.eval= function(){f.delayed.push(this);this.how='eval';this.type='inner';this.execute();return this};e.apply=function(a,b){f.delayed.push(this);this.how='apply';this.type='function';this.funcThis=a;this.funcParameters=b;this.execute();return this};e.writeLocation=function(a){this.writeSelector=a;return this};return e};C.xhr=K.create;C.content=function(a){var b=_loadFromDOM(a);l.publish({topic:'sequence/captured',message:{delayed:b,location:a}});b.load=function(){g.log('Sequence a script = ',a,', type '+ this.type);null==this.delayType||'none'==this.delayType?g.log('Content found that needs to be loaded immediately'):g.log('Content found that needs to be sequenced',this.delayType,this.delayValue);this.execute(f.delayed.length-1);f.delayed.push(this)};return b};C.event=ia;C.image=function(a){1!=f.sequenceImage&&q.configure({sequenceImage:!0});var b=Y(a);b.nodeName='image';b.webWorkerCallback=!1;b.webWorker=function(a,e){b.webWorkerCallback=e||!0;b.webWorkerFetchOptions=a;return b};return b};C.dom= ra.create;C.createElement=ra.createElement;C.scanTags=function(a,b){if(f.scan){for(var c=0,e=f.scan.length;c<e;c++)_findTags(f.scan[c],b);!0!==a&&(f.scan=[])}};C.cloakImages=function(a,b){if(1!=g.undef(d.btoa))for(var c=0,e=a.length;c<e;c+=1){var k=a[c],f=document.getElementsByTagName(k);g.log('Cloak '+k);for(var h=0,l=f.length;h<l;h+=1)for(var m=f[h],n=0,p=b.length;n<p;n+=1){var q=b[n],r=m.getAttribute(q);null!=r&&(g.log('Cloak '+k,q,r),m.setAttribute(q,'data:image/cloaked;base64,'+btoa(r)))}}}; C.document=ib;C.captureMethods=K.captureMethods;C.overrideMethods=K.overrideMethods;var Hb=document.getElementsByTagName('script');0<Hb.length&&C.node(Hb[0].parentNode);C.node(document.getElementsByTagName('head')[0]);var cb=document.getElementsByTagName('body');null!=cb&&0<cb.length&&C.node(cb[0]);g.addEvent(document,'readystatechange',function(a){'interactive'===document.readyState&&(g.log('readystatechange is document.interactive, calling displayNow'),'unknown'!==q.rum.get().optState&&C.displayNow(!0))}); l.subscribe({topic:'core/start',callback:function(){Na()}});l.subscribe({topic:'core/configure',callback:function(a,b){Na()}});l.subscribe({topic:'core/load',callback:function(){domCompleteTriggered=!0;for(var a=0;a<f.delayed.length;a++)f.delayed[a].execute()}});f.services=[];var ja={add:function(a){a={afterLoaded:Ya,beforeLoading:Xa,host:a.host,key:'*'+a.host+'*',properties:a,name:a.name,budget:a.budget};f.services.push(a);l.publish({topic:'services/add',message:a});return a},findByHost:function(a){for(var b= ja.list(),c=0;c<b.length;c++){var e=b[c];if(1==g.matchUrl(e.host,a))return g.log('Found service configuration for '+a+' service ',e),e}g.log('Did NOT find service configuration for '+a+' checking local configuration. ');return null},findByName:function(a){for(var b=ja.list(),c=0;c<b.length;c++){var e=b[c];if(e.name==a)return g.log('Found service configuration for '+a+' service ',e),e}g.log('Did NOT find service configuration for '+a+' checking local configuration. ');return null},list:function(){return f.services}}, ba={};f.scheduling={onLoadTime:null,lastScheduleTime:6E3,last:100,step:100,scheduled:!1,hosts:[],priorities:{low:{last:3E3,step:100},medium:{last:1E3,step:100},high:{last:100,step:100},critical:{last:-1}},prioritiesToKeep:[],serviceToKeep:[],budgetTime:!1,servicesToBudget:[],loadTime:(new Date).getTime()};ba.resource=function(a){return{afterLoaded:Ya,beforeLoading:Xa,src:a,key:'*'+a+'*'}};ba.bestFit=function(){f.scheduling.type='bestfit';f.scheduling.scheduled=!0};ba.priority=function(a){f.scheduling.type= 'priority';f.scheduling.scheduled=!0;if(a&&a.services)for(var b=0;b<a.services.length;b++)q.services.add(a.services[b])};ba.spread=function(a){f.scheduling.type='spread';g.def(a)&&(f.scheduling.step=a);f.scheduling.scheduled=!0};ba.configure=function(a){for(var b in a)f.scheduling[b]=a[b];l.publish({topic:'schedule/configure',message:f});return f.scheduling};ba.budget=function(a){if(a){a.budgetTime&&(f.scheduling.budgetTime=a.budgetTime);a.prioritiesToKeep&&(f.scheduling.prioritiesToKeep=a.prioritiesToKeep); if(a.servicesToBudget){f.scheduling.servicesToBudget=a.servicesToBudget;for(var b=0;b<a.servicesToBudget.length;b++){var c=a.servicesToBudget[b];c.budget=!0;q.services.add(c)}}f.scheduling.budgeter=a.budgeter?a.budgeter:mc}};l.subscribe({topic:'core/start',callback:function(){}});l.subscribe({topic:'sequence/captured',callback:function(a,b){null!=f.scheduling.onLoadTime&&(new Date).getTime()>f.scheduling.onLoadTime+f.scheduling.lastScheduleTime?g.log('Scheduling has expired',f.scheduling.lastScheduleTime): 1==f.scheduling.scheduled&&('spread'==f.scheduling.type?db(a,b):'bestfit'!=f.scheduling.type&&'priority'==f.scheduling.type&&nc(a,b))}});var nc=function(a,b){if(a.newNode){var c=a.newNode.src;if(c&&0<c.length){var e=eb(c),d=ja.findByHost(e);if(null!=e&&-1==f.scheduling.hosts.indexOf(e)){if(null==d)return db(a,b);var h=f.scheduling.priorities[d.properties.priority];g.log('Service found ',d.properties.name,d.properties.priority);if(1==g.undef(h))return db(a,b);0<=h.last&&(h.last+=h.step,l.subscribe({topic:'sequence/beforeloading/*'+ e+'*',callback:function(){-1==f.scheduling.hosts.indexOf(e)&&f.scheduling.hosts.push(e)}}),b=null!=f.scheduling.budgeter?f.scheduling.budgeter(d,c,a,f.scheduling):!1,g.log('Scheduling resource ',a.newNode.src,e,'defer',h.last,', isBudgeted = ',b),1==b?a.newNode.delayType='remove':(a.newNode.delayType='defer',a.newNode.delayValue=h.last))}}}},db=function(a,b){if(a.newNode&&(b=a.newNode.src)&&0<b.length){var c=eb(b),e=ja.findByHost(b);null!=c&&-1==f.scheduling.hosts.indexOf(c)&&(f.scheduling.last+= f.scheduling.step,l.subscribe({topic:'sequence/beforeloading/*'+c+'*',callback:function(){-1==f.scheduling.hosts.indexOf(c)&&f.scheduling.hosts.push(c)}}),b=null!=f.scheduling.budgeter?f.scheduling.budgeter(e,b,a,f.scheduling):!1,g.log('Scheduling resource ',a.newNode.src,c,'defer',f.scheduling.last,', isBudgeted = ',b),1==b?a.newNode.delayType='remove':(a.newNode.delayType='defer',a.newNode.delayValue=f.scheduling.last))}},mc=function(a,b,c,e){c=e.budgetTime;var d=eb(b);if(!1!==c){if((new Date).getTime()- f.scheduling.loadTime>=c){if(-1!=e.hosts.indexOf(d))return!1;if(e.servicesToBudget&&0<e.servicesToBudget.length)return(a=ja.findByHost(b))&&!0===a.budget?(A.addViolation(5,b),!0):!1;if(-1!=e.prioritiesToKeep.indexOf(a.properties.priority)||null!=a&&0==a.budget)return!1;A.addViolation(5,b);return!0}null!=a&&(a.budget=!1)}return!1},eb=function(a){return(a=a.split('/')[2])?a=a.split('.').slice(-2).join('.'):null};l.subscribe({topic:'core/load',callback:function(){f.scheduling.onLoadTime=(new Date).getTime()}}); var fb={create:function(a){var b=f;-1==b.srcAttrs.indexOf('data-src')&&b.srcAttrs.push('data-src');-1==b.srcAttrs.indexOf('data-srcset')&&b.srcAttrs.push('data-srcset');b.imagePipeline=a;l.subscribe({topic:'sequence/beforeloading/*',callback:function(b,e){g.log('Yo.imagePipeline.beforeLoading - ',b);e=b.before;var c=a.optimizer||fb.optimizer;c&&e&&e.nodeName&&'img'==e.nodeName.toLowerCase()&&(e=c(e,b.srcAttr))&&(g.log('Yo.imagePipeline updating image src - ',e),b.srcAttr=e)}})},rewrite:function(a, b){if(-1==b.indexOf('.yottaa.net')){var c=Yo.stats().config.imagePipeline;g.log('Yo.imagePipeline.rewrite',c,a,b);return location.protocol+c.cdn+'/'+c.profileId+'/'+a+'/'+c.version+'/'+b}},optimizer:function(a,b,c){g.log('Yo.imagePipeline default image optimized',a,b);c=c||[];(a=g.browser())&&'chrome'===a.name?c.push('f_webp'):a&&'safari'===a.name&&13<=a.version&&c.push('f_jp2');return fb.rewrite('o~'+c.join(','),b)}},Jb=function(a,b){var c='ul= dl= dt= sd= sr= vp= ct= rtt='.split(' ');c[0]+=navigator.language; c[1]+=encodeURIComponent(d.location.href.substring(0,1E3));c[2]+=encodeURIComponent(document.title);c[3]+=d.screen.colorDepth;c[4]+=d.screen.width+','+d.screen.height;c[5]+=d.screen.availWidth+','+d.screen.availHeight;if(b)for(var e in b)c.push(e+'='+encodeURIComponent(b[e]));b=navigator.connection||navigator.mozConnection||navigator.webkitConnection;c[6]+=b?b.effectiveType:'unknown';c[7]+=b?b.rtt:'unknown';try{if(d.localStorage&&localStorage.getItem){var k=localStorage.getItem('rapid.testVariations'); if(k&&'undefined'!=k)try{var g=JSON.parse(k);for(k=0;k<g.length;k++){var l=g[k];if(!1!==l.sticky){var m=(new Date).getTime()>l.time+(l.timeout||f.sessionTimeout);'visitor'!=l.sticky&&!1!==m||c.push('testVariation='+l.testId+'-'+l.variationName)}}}catch(na){h.log('Configuration error - Exception parsing test variations',na)}if(-1!=(iPos=d.location.hash.indexOf('yoQoeConfig='))){var n=d.location.hash.substring(iPos+12).split('&');c=c.concat(n)}}}catch(na){h.log('Configuration error - create test variation data.', na)}if(1==h.def(d.fetch)&&1==f.newConfigFetch)fetch(a+'&'+c.join('&')).then(function(b){b.text().then(function(b){Ib(b,a)});return b})['catch'](function(a){h.log('Error from loading ctrl configuration via fetch',a)});else g=null,g=d.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject('Microsoft.XMLHTTP'),g.open('GET',a+'&'+c.join('&'),!1),g.send(''),Ib(g.responseText,a)},Ib=function(a,b){try{var c=document.createElement('script');c.type='text/javascript';c.text=a;document.getElementsByTagName('head')[0].appendChild(c); h.log('Adding Rapid CTRL script into DOM: ',b);if(d.localStorage&&localStorage.setItem){var e=A.get().testVariations;a=[];if(e){for(b=0;b<e.length;b++){var k=e[b];k.time=(new Date).getTime();k.timeout=k.timeout||f.sessionTimeout;k.sticky=1==k.sticky?'session':k.sticky;a.push(k.testId)}var g=localStorage.getItem('rapid.testVariations');try{var m=JSON.parse(g);for(b=0;b<m.length;b++)-1==a.indexOf(m[b].testId)&&e.push(m[b])}catch(ma){h.log('Configuration error - Exception parsing test variations',ma)}localStorage.setItem('rapid.testVariations', JSON.stringify(e))}}l.publish({topic:'core/ctrlConfigLoaded',message:z.config})}catch(ma){h.log('Error handling the response from the ctrl configuration call',ma)}},Kb={releaseDate:'2024-04-03T16:30Z',version:'8.0.3',log:!1,resources:[],messageBridge:!1,defaultBlockedResponse:{status:200,body:'Blocked by service-worked'},security:{},handledResources:[],documentUri:'',publishHit:!0,caches:[],cacheHits:[],cacheTimeToLive:Number.MAX_SAFE_INTEGER,maxRefreshCount:3,cacheCheck:'htmlDocuments'};self._serviceWorkerConfig= Kb;var Da={},oc={EQ:function(a,b){return a===b},NEQ:function(a,b){return a!==b},CONTAIN:function(a,b){return-1<a.indexOf(b)},'NOT-CONTAIN':function(a,b){return-1===a.indexOf(b)},'STARTS-WITH':function(a,b){return 0===a.indexOf(b)},'ENDS-WITH':function(a,b){return a.indexOf(b)===a.length-b.length},IN:function(a,b){return!0===b.includes(a)},'NOT-IN':function(a,b){return!1===b.includes(a)},REGEX:function(a,b){return gb(a,b)},MATCH:function(a,b){return gb(a,b)},'NOT-MATCH':function(a,b){return 0==gb(a, b)},'>':function(a,b){try{return parseFloat(b)>parseFloat(a)}catch(c){return!1}},'>=':function(a,b){try{return parseFloat(b)>=parseFloat(a)}catch(c){return!1}},'<':function(a,b){try{return parseFloat(b)<parseFloat(a)}catch(c){return!1}},'<=':function(a,b){try{return parseFloat(b)<=parseFloat(a)}catch(c){return!1}},'==':function(a,b){try{return parseFloat(a)==parseFloat(b)}catch(c){return!1}},'!=':function(a,b){try{return parseFloat(a)!=parseFloat(b)}catch(c){return!1}}},pc={PROTOCOL:function(a){return a.protocol}, HOSTNAME:function(a){return a.hostname},HOST:function(a){return a.hostname},PATHNAME:function(a){return a.pathname},SEARCH:function(a){return a.search},EXTENSION:function(a){var b=a.pathname.lastIndexOf('.');return-1==b?'':a.pathname.substring(b+1)}},qc={COUNTRYNAME:function(a){return a.countryname},COUNTRYCODE:function(a){return a.countrycode},REGION:function(a){return a.region},REGIONCODE:function(a){return a.regioncode},METRO:function(a){return a.metro},ZIPCODE:function(a){return a.zipcode},LONGITUDE:function(a){return a.longitude}, LATITUDE:function(a){return a.latitude},CONTINENT:function(a){return a.continent}},rc={ALL:function(a){return!1},'function':function(a,b,c,e){return a.condition},'DOCUMENT-URI':function(a,b,c,e){return Kb.documentUri},'REQUEST-URI':function(a,b,c,e){return b.url},'USER-AGENT':function(a,b,c,e){return(e||d).navigator.userAgent},'User-Agent':function(a,b,c,e){return b.headers['User-Agent']},URI:function(a,b,c,e){return d.location.toString()},'URI-Component':function(a,b,c,e){return pc[a.request_property.toUpperCase()](b.uri)}, Geo:function(a,b,c,e){return qc[a.request_property.toUpperCase()](b.geo)}};Da.matchAll=function(a,b,c){return new Promise(function(e,d){var k=Da.match(b,a,c);1!=k?d(k):e(a)})};Da.match=function(a,b,c){for(var e=0;e<b.length;e++)if(1==h.def(b[e].match)){a:{var d=a;for(var f=b[e].match,g=c,l=0;l<f.length;l++)if(0==Lb(f[l],d,g)){d=f[l];break a}d=!0}if(1!=d)return!1}else if(0==Lb(b[e],a,c))return b[e];return!0};var Lb=function(a,b,c){var e=rc[a.type||a.name];return e?(c=e(a,b,c,self),'function'===a.type? a.condition(a,b):'ALL'===a.type?!0:(b=oc[a.operator])&&c&&a.condition?b(c,a.condition):!1):!1},gb=function(a,b){try{if('object'===typeof b)return null!==a.match(b,'i');var c=b.indexOf('(?i)');return-1==c?null!==a.match(b):null!==a.match(new RegExp(b.substring(c+4),'i'))}catch(e){return h.log('Bad Regex in Condition',e),!1}},G={enableAssetDetection:function(){if(G.enabled)return!1;if(!G.shouldDetectAssets)return q.utils.log('Journey Hijacking asset detection disabled'),!1;if(!Oa())return q.utils.log('Journey Hijacking asset detection not supported'), !1;G.enabled=!0;q.utils.log('Journey Hijacking asset detection enabled');p.config.detectOn&&(p.detectOnId=l.subscribe({topic:p.config.detectOn,callback:G.startDetection}));return!0},startDetection:function(){if(!G.enabled)return!1;q.utils.log('Journey Hijacking starting asset detection');l.publish({topic:'hijacking/start',message:p.config});pa=Wb();va=0;for(var a=p.supportedExtensions,b=0;b<a.length;b++){var c=a[b];c.assetUrls&&0!=c.assetUrls.length?lb(c.id,c.assetUrls,0):Pa(c.id,p.states.UNKNOWN)}return!0}, isSupported:Oa,setAssetDetection:function(a){if(G.enabled||!1===Oa())return!1;G.shouldDetectAssets=!0===a;return!0},resetAssetDetection:function(){G.enabled=!1;G.shouldDetectAssets=!0;pa&&(pa.terminate(),pa=null);va=0},shouldDetectAssets:!0,enabled:!1},va=0,pa=null;N=null;var xa={DETECTED:1,NOT_DETECTED:2,BLOCKED:3},Ra=[],Xb=document.createElement('div').remove,F={enableComponentDetection:function(){var a;if(a=!1===F.enabled)a:{a=p.supportedExtensions;for(var b=0;b<a.length;b++)if(a[b].components&& 0<a[b].components.length){a=!0;break a}a=!1}a&&(Zb(),F.enabled=!0,q.utils.log('Component detection enabled'));return F.enabled},resetComponentDetection:function(){N&&N.disconnect();F.enabled=!1;F.checkedComponents=[];F.aggressiveBlocking=!1;for(var a=0;a<Ra.length;a++)l.unsubscribe(Ra[a])},checkedComponents:[],setAggressiveBlocking:function(a){F.aggressiveBlocking=!0===a},aggressiveBlocking:!1,enabled:!1},za=null,ya=null,hb={send:function(){return p.assetDetection.enabled&&!1===p.detectionComplete? (za=l.subscribe({topic:'hijacking/finished',callback:pb}),!1):pb()},resetAnalytics:function(){ob();null!==ya&&(l.unsubscribe(ya),ya=null);d.localStorage.removeItem(Sa())}},Ea={UNKNOWN:-1,INSTALLED:1,NOT_INSTALLED:2},p={configure:function(a){if(!1===qb())return q.utils.log('Journey Hijacking was configured but is not supported in this browser'),!1;if(p.enabled)return q.utils.log('Journey Hijacking already configured'),!1;if(!a.reportUri||!a.extensions||0===a.extensions.length)return q.utils.log('Journey Hijacking config is invalid. Detection not enabled.'), !1;void 0!==a.detectAssets&&G.setAssetDetection(a.detectAssets);void 0!==a.aggressiveBlocking&&F.setAggressiveBlocking(a.aggressiveBlocking);p.allExtensions=a.extensions;var b=p,c=a.extensions,e=g.browser().name;'safari'===e&&(e=g.isIos()?'safari_ios':'safari_mac');for(var d=[],f=0;f<c.length;f++){var h=c[f];h.browsers&&!h.browsers[e]||d.push(h)}b.supportedExtensions=d;if(0===p.supportedExtensions.length)return q.utils.log('No extensions supported for this browser.'),!1;q.utils.log(p.supportedExtensions.length+ ' extensions supported out of '+p.allExtensions.length+' for this browser.');a.hasOwnProperty('detectOn')||(a.detectOn='core/load');a.hasOwnProperty('sendOn')||(a.sendOn='rum/sendBeacon');p.config=a;q.stats().config.hijacking=a;'unknown'===p.optState&&(b=q.rum.get().optState,p.optState='none'===b?'active':b);if('disabled'===p.optState)return q.utils.log('Journey Hijacking disabled.'),!1;p.enabled=!0;F.enableComponentDetection();G.enableAssetDetection();p.config.sendOn&&(p.sendOnId=l.subscribe({topic:p.config.sendOn, callback:hb.send}));l.publish({topic:'hijacking/configure',message:a});return!0},startDetection:G.startDetection,isSupported:qb,setOptState:function(a){if(p.enabled)return!1;if(-1===['active','bypass','control','none','disabled'].indexOf(a))return q.utils.log('Invalid optState '+a),!1;p.optState=a;return!0},setExtensionState:function(a,b){var c=p.extensionState[a]===Ea.INSTALLED;c||(p.extensionState[a]=b);b===Ea.INSTALLED&&(p.hasDetectedExtensions=!0,c||(b={id:a,state:b},l.publish({topic:'hijacking/found/'+ a,persistent:!0,message:b}),l.publish({topic:'hijacking/found',message:b})))},extensionList:function(){for(var a=[],b=0;b<p.supportedExtensions.length;b++){var c=p.supportedExtensions[b],e=p.extensionState;a.push({id:c.id,state:c.id in e?e[c.id]:Ea.UNKNOWN})}return a},setAssetDetection:G.setAssetDetection,setAggressiveBlocking:F.setAggressiveBlocking,send:hb.send,reset:function(){p.detectOnId&&(l.unsubscribe(p.detectOnId),p.detectOnId=null);p.sendOnId&&(l.unsubscribe(p.sendOnId),p.sendOnId=null); p.enabled=!1;p.hasDetectedExtensions=!1;p.optState='unknown';p.detectionComplete=!1;p.allExtensions=[];p.supportedExtensions=[];p.extensionState={};p.config={};q.stats().config.hijacking={};F.resetComponentDetection();hb.resetAnalytics();G.resetAssetDetection();return!0},supportedExtensions:[],allExtensions:[],extensionState:{},enabled:!1,detectionComplete:!1,hasDetectedExtensions:!1,detectOnId:null,sendOnId:null,assetDetection:G,componentDetection:F,optState:'unknown',states:Ea};C.serviceWorker= function(a){var b=Y(a);b.finalize=function(){h.log('Sending the url ',a,'to the service worker so it can sequence it.');l.publish({topic:'service-worker/broker/sequence/finalize',message:[a,b.delayType,b.delayValue]})};return b};var S={create:function(a){1==h.undef(a.exclusions)&&1==h.def(f.serviceWorker)&&1==h.def(f.serviceWorker.exclusions)&&(a.exclusions=f.serviceWorker.exclusions);S._broker('create',arguments)},destroy:function(a){S._broker('destroy',arguments)},destroyAll:function(){S._broker('destroyAll', arguments)},putResources:function(a){S._broker('putResources',arguments)},removeResources:function(a){S._broker('removeResources',arguments)},refreshResources:function(a){S._broker('refreshResources',arguments)},stats:function(a){var b=l.subscribe({topic:'service-worker/cache/stats/return',callback:function(c){a(c.originalMessage);l.unsubscribe(b)}});S._broker('stats',[])},onCacheHit:function(a){l.subscribe({topic:'service-worker/cache/hit',callback:function(b){a(b.originalMessage.url)}})},_broker:function(a, b){l.publish({topic:'service-worker/broker/cache/'+a,message:Array.prototype.slice.call(b)})}};l.subscribe({topic:'core/start',callback:function(a,b){S.stats(function(a){z.serviceWorkers.cacheStats=a})}});var E={cache:S};f.serviceWorker={};E.manage=function(a){var b=a||f.serviceWorker;if('serviceWorker'in navigator&&!0===h.def(b))return new Promise(function(a,e){!0===Yo.utils.undef(b.scriptUrl)?b.scriptUrl='https://'+d.location.host+'/yottaa.service.worker.js':0==b.scriptUrl.startsWith('http')&&(1== b.scriptUrl.startsWith('/')&&(b.scriptUrl=b.scriptUrl.substring(1)),b.scriptUrl='https://'+d.location.host+'/'+b.scriptUrl);'install'===b.mode?E.install(b.scriptUrl,b.scope).then(function(c){null!=navigator.serviceWorker.controller&&!0===h.def(b.requiredVersion)?E.version().then(function(c){c.version!==b.requiredVersion?(Yo.utils.log('Service worker version mismatch; updating version from: ',c.version,'to',b.version),E.update(b.scriptUrl).then(function(){Yo.utils.log('Successfully updated version from: ', c.version,'to',b.version);a(c)}).catch(function(a){Yo.utils.log('Error updating version from: ',c.version,'to',b.version,' Error:',a);e(a)})):(Yo.utils.log('Service worker versions match ',b.version),a(c))}).catch(function(a){Yo.utils.log('Error getting version from: Error:',a);e(a)}):a(c)}).catch(function(a){Yo.utils.log('Error installing service worker. Error:',a);e(a)}):'uninstall'===b.mode?E.uninstall(b.scriptUrl).then(function(b){Yo.utils.log('Successfully uninstalled service worker');a(b)}).catch(function(a){Yo.utils.log('Error uninstalling service worker. Error:', a);e(a)}):(Yo.utils.log('No mode was set for on the configuration variable. { mode: <install|uninstall> }'),a({}))})};E.install=function(a,b){if('serviceWorker'in navigator)return new Promise(function(c,e){h.log('ServiceWorker API present, we will register our worker.');navigator.serviceWorker.register(a,{scope:b}).then(function(b){h.log('ServiceWorker registration successful',a,b.scope);l.publish({topic:'service-worker/installed',message:{scope:b.scope,scriptURL:b.active?b.active.scriptURL:a}}); c(b)}).catch(function(a){h.log('ServiceWorker registration failed: ',a);l.publish({topic:'service-worker/exception',message:a});e(a)})})};E.uninstall=function(a){if('serviceWorker'in navigator)return new Promise(function(b,c){h.log('ServiceWorker API present, we will attempt to unregister our worker.');E.get(a).then(function(e){e.unregister().then(function(c){h.log('ServiceWorker has been unregistered successfully, ',c);l.publish({topic:'service-worker/uninstalled',message:{scope:e.scope,scriptURL:e.active? e.active.scriptURL:a}});b(e)}).catch(function(b){h.log('Failed to unregister the url',a,b);c(b)})}).catch(function(b){h.log('We did not get the service work for',a,' we cannot unregister',b);c(b)})})};E.version=function(){if('serviceWorker'in navigator)return new Promise(function(a,b){if(1==Yo.utils.def(f.serviceWorker.version))a(f.serviceWorker.version);else{var c=l.subscribe({topic:'service-worker/version/info/return',callback:function(b){a(b.originalMessage);l.unsubscribe(c)}});l.publish({topic:'service-worker/broker/version/info', message:{}})}})};E.update=function(a){if('serviceWorker'in navigator)return new Promise(function(b,c){h.log('ServiceWorker API present, we will attempt to update our worker.');E.get(a).then(function(e){e.update().then(function(c){h.log('ServiceWorker has been updated successfully, ',c);l.publish({topic:'service-worker/updated',message:{scope:e.scope,scriptURL:e.active?e.active.scriptURL:a}});b(e)}).catch(function(b){h.log('Failed to update the url',a,b);c(b)})}).catch(function(b){h.log('We did not get the service work for', a,' we cannot update',b);c(b)})})};E.capability=function(){return'serviceWorker'in navigator};E.get=function(a){if('serviceWorker'in navigator)return new Promise(function(b,c){navigator.serviceWorker.getRegistrations().then(function(e){h.log('Service Workers registrations',e);(e=e.find(function(b){return 1==h.def(b.active)&&null!=b.active&&a==b.active.scriptURL}))?b(e):c({error:'Script url was not found: '+a})}).catch(function(a){c(a)})})};E.configure=function(a){for(var b in a)f.serviceWorker[b]= a[b];l.publish({topic:'service-worker/configure',message:f.serviceWorker});return f.serviceWorker};if('serviceWorker'in navigator){h.log('ServiceWorker API present, initialize communication layer');try{navigator.serviceWorker.addEventListener('message',function(a){if(a.data&&a.data.topic)return l.publish({topic:a.data.topic,message:{sendFromServiceWorker:!0,originalMessage:a.data.message}})})}catch(a){h.log('Error attaching to service worker messages, most likely a permissions issue',a)}l.subscribe({topic:'core/load', callback:function(a,b){l.publish({topic:'service-worker/application/loaded',message:{}})}});l.subscribe({topic:'service-worker/start',callback:function(a,b){q.configure({})}});l.subscribe({topic:/service-worker.*/,callback:function(a,b){if(navigator.serviceWorker.controller&&!0!==a.sendFromServiceWorker)try{return navigator.serviceWorker.controller.postMessage({message:a,topic:b})}catch(c){h.log('Post message to the service worker error',c)}}})}var w={ready:!1,version:1,prefetchAfter:36E5,initializeCore:function(a, b){var c=w.state();c.cacheNames=a||[];c.cacheObjects={};c.cacheUpdates=[];c.serviceWorkerScriptUrl=b||f.serviceWorker.scriptUrl;c.version!=w.version&&(c.objectsAlreadyInCache=[]);c.version=w.version;w.state(c);w._serviceWorkerReady()},state:function(){if(0==arguments.length){try{return JSON.parse(localStorage.getItem('_tec.state'))||{}}catch(a){h.log('_tec: Error getting state',a)}return{}}try{return arguments[0].updatedAt=new Date,localStorage.setItem('_tec.state',JSON.stringify(arguments[0])),arguments[0]}catch(a){h.log('_tec: Error updating state', a)}},createCache:function(a,b){l.subscribe({topic:'tec/ready',callback:function(){var c=w.state();-1===c.cacheNames.indexOf(a.name)?(h.log('_tec: Adding cache object that was NOT already created',a),c.cacheNames.push(a.name),c.cacheObjects[a.name]=a,E.cache.create(a)):!0===b&&(h.log('_tec: Forcing cache object to be created that WAS already created',a),c.cacheObjects[a.name]=a,E.cache.create(a));w.state(c)}})},refreshResources:function(a,b){var c=w.state(),e=b||c.cacheNames;h.log('_tec: refreshResources for ', e,a||[/.*/]);l.subscribe({topic:'tec/ready',callback:function(){e.forEach(function(b){var e=c.cacheObjects[b];b={name:h.def(e)?e.name:b,process:'single',resources:a||[/.*/]};1==h.def(e)&&(b.version=e.version);E.cache.refreshResources(b)})}})},removeResources:function(a,b){var c=b||w.state().cacheNames;h.log('_tec: removeResources for ',c,a||[/.*/]);l.subscribe({topic:'tec/ready',callback:function(){c.forEach(function(b){var c=w.state(),e=c.cacheObjects[b];c.objectsAlreadyInCache=[];w.state(c);b={name:h.def(e)? e.name:b,resources:a||[/.*/]};1==h.def(e)&&(b.version=e.version);E.cache.removeResources(b)})}})},putResources:function(a,b){var c=w.state().cacheObjects[a];h.log('_tec: putResources for ',a,b,c);l.subscribe({topic:'tec/ready',callback:function(){var e={name:h.def(c)?c.name:a,resources:b};1==h.def(c)&&(e.version=c.version);E.cache.putResources(e)}})},sequencingInteraction:function(a,b,c){a.forEach(function(a){a.afterLoaded(function(){'refresh'===b?w.refreshResources(c):w.removeResources(c)})})},navigationInteraction:function(a, b,c){l.subscribe({topic:'core/load',callback:function(){null!=a.find(function(a){return a instanceof RegExp?null!=d.location.toString().match(a):-1!==a.indexOf('*')?null!=d.location.toString().match(new RegExp(a.replace(/\*/g,'.*'))):d.location.toString()===a})&&('refresh'===b?w.refreshResources(c):w.removeResources(c))}})},smartPrefetch:function(a,b,c,e){l.subscribe({topic:'tec/ready',callback:function(){b&&0<b.length&&'string'!==typeof b[0]&&(b=b.filter(function(a){return 1==h.undef(a.deviceType)? !0:h.isIos()||h.isAndroid()?2==a.deviceType:1==a.deviceType}).map(function(a){return a.pageUrl}));var d=w._findOnPageUrls(b,c||3);h.log('_tec: smartPrefetch being setup',a,b,c,d);w._fillCache(a,d,e||w.prefetchAfter)}})},cartReadiness:function(a,b){l.subscribe({topic:'tec/ready',callback:function(){var c=w.state();-1==c.cacheNames.indexOf(a)?(h.log('_tec: create cart-readiness cache',a,b),c.cacheNames.push('cart-readiness'),E.cache.create({name:'cart-readiness',prefetch:!0,process:'single',resources:[a], expireAfter:b||3E5,htmlDocuments:!0}),w.state(c)):h.log('_tec: cart-readiness cache should already be created',a,b)}})},_serviceWorkerReady:function(){!1===w.ready&&navigator.serviceWorker.ready.then(function(a){h.log('_tec: Service worker ready notification, configure message bridge',a);E.configure({messageBridge:!0});var b=l.subscribe({topic:'service-worker/*',callback:function(a,d){!1===w.ready&&(h.log('_tec: Service worker has started sending message consider it activated',d),w.ready=!0,l.unsubscribe(b), l.publish({topic:'tec/ready',persistent:!0,message:{}}),E.configure({messageBridge:!1}))}})})},_isExpired:function(a,b){a=(new Date(a)).getTime();return(new Date).getTime()>a+(b||w.prefetchAfter)},_findOnPageUrls:function(a,b,c){var e=Array.from(document.querySelectorAll('a:not([href*="#"])')).map(function(a){return a.href});a=a.map(function(a){return-1!=a.indexOf('://'+d.location.hostname)?a:0===a.indexOf('/')?d.location.protocol+'//'+d.location.host+a:d.location.protocol+'//'+d.location.host+'/'+ a});var f=w.state();f.updatedAt&&1!=w._isExpired(f.updatedAt,c)||(f.objectsAlreadyInCache=[]);var g=f.objectsAlreadyInCache||[];return a.reduce(function(a,c){a.length<=b&&-1!=e.indexOf(c)&&-1==g.indexOf(c)&&a.push(c);return a},[])},_fillCache:function(a,b){if(0<b.length){var c=w.state(),d=c.cacheObjects[a];c.objectsAlreadyInCache=(c.objectsAlreadyInCache||[]).concat(b);w.state(c);var f=!1;l.subscribe({topic:'tec/ready',callback:function(c,e){h.log('_tec: fill cache for smartPrefetch with new',b); 0==f&&(f=!0,c={name:h.def(d)?d.name:a,process:'single',refreshExisting:!1,resources:b},1==h.def(d)&&(c.version=d.version),E.cache.putResources(c))}})}}};d.Yo||(d.Yo={});q={utils:g,pubsub:l,configure:function(a,b){if('string'===typeof a)Jb(a,b);else for(var c in a)'resources'==c?f.resources=f.resources.concat(a.resources):'configurationUrl'==c?Jb(a[c],b):f[c]=a[c];l.publish({topic:'core/configure',message:f})},sequence:C,rum:A,insert:{HEAD_START:'head_start',HEAD_END:'head_end',BODY_START:'body_start', BODY_END:'body_end',location:function(a){document.write((null!=document.body?['<d',"iv id='yo_tag_",a,"'></d",'iv>']:['<scr',"ipt id='yo_tag_",a,"'></scr",'ipt>']).join(''));l.publish({topic:'tag/location/'+a,persistent:!0})},resource:function(a,b,c,d){var e=q.sequence.script(a);e.loaded=!0;l.subscribe({topic:'tag/location/'+b,callback:function(){var a=g.select('#yo_tag_'+b);q.sequence.node(a);c&&''!=c||(c='none');e[c](d);e.loaded=!1;e.load(a)}});return e},script:function(a,b,c,d){var e=Yo.sequence.script(a); e.loaded=!0;l.subscribe({topic:'tag/location/'+b,callback:function(){c&&''!=c||(c='none');e[c](d);e.loaded=!1;e.eval()}});return e},content:function(a,b,c,d){var e=document.createElement('script');c&&''!=c||(c='none');e.setAttribute('type','yo/sequencing/'+c+'/'+d);var f=Yo.sequence.content(e);f.loaded=!0;0==b.indexOf('css:')?l.subscribe({topic:'core/load',callback:function(){g.def(a.nodeName)?e.appendChild(a):e.innerHTML=a;var c=b.split(':');f.before=g.select(c[1]);3==c.length&&('after'==c[2]?null== f.before.nextSibling?(f.before=f.before.parentNode,f.how='append'):f.before=f.before.nextSibling:'prepend'==c[2]?0<f.before.childNodes.length?f.before=f.before.childNodes[0]:f.how='append':'append'==c[2]&&(f.how='append'));f.loaded=!1;f.load()}}):l.subscribe({topic:'tag/location/'+b,callback:function(){g.def(a.nodeName)?e.appendChild(a):e.innerHTML=a;f.loaded=!1;f.before=g.select('#yo_tag_'+b);f.load()}});return f}},stats:qa,geo:function(){if(0===arguments.length)return z.geo;1===arguments.length&& (z.geo=arguments[0],l.publish({topic:'core/geo',message:arguments[0]}))},services:ja,schedule:ba,imagePipeline:fb,spa:{trackMetrics:function(){A.spa()},startTransition:function(a,b){return l.publish({topic:'rum/spa/transition/start',message:{pageType:a,viewType:b}})},finishedRendering:function(a,b,c){return l.publish({topic:'rum/spa/rendered',message:{pageType:a,viewType:b,trigger:c}})}},context:Da,hijacking:p,serviceWorker:E,tec:w};d.Yo=q;l.publish({topic:'core/start',message:q});return q}); 